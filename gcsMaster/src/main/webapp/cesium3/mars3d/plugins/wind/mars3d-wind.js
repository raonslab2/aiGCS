function a0_0x784b(_0x30f0f1,_0x3a1b65){var _0x44ef4c=a0_0x44ef();return a0_0x784b=function(_0x784bfa,_0x5ce4f6){_0x784bfa=_0x784bfa-0x185;var _0x3942b0=_0x44ef4c[_0x784bfa];return _0x3942b0;},a0_0x784b(_0x30f0f1,_0x3a1b65);}(function(_0x4dce5f,_0x196b6f){var _0x3020ca=a0_0x784b,_0x5f2e97=_0x4dce5f();while(!![]){try{var _0x39ea72=parseInt(_0x3020ca(0x1b4))/0x1*(parseInt(_0x3020ca(0x233))/0x2)+parseInt(_0x3020ca(0x19f))/0x3*(parseInt(_0x3020ca(0x28e))/0x4)+parseInt(_0x3020ca(0x21d))/0x5+parseInt(_0x3020ca(0x1ed))/0x6+-parseInt(_0x3020ca(0x2a3))/0x7+parseInt(_0x3020ca(0x25f))/0x8*(parseInt(_0x3020ca(0x1b6))/0x9)+parseInt(_0x3020ca(0x2b0))/0xa*(-parseInt(_0x3020ca(0x1de))/0xb);if(_0x39ea72===_0x196b6f)break;else _0x5f2e97['push'](_0x5f2e97['shift']());}catch(_0x31ee29){_0x5f2e97['push'](_0x5f2e97['shift']());}}}(a0_0x44ef,0xa4a2a),!function(_0x403ebe,_0x44a994){var _0x4a6404=a0_0x784b;_0x4a6404(0x1c5)==typeof exports&&_0x4a6404(0x1c5)==typeof module?module['exports']=_0x44a994(require(_0x4a6404(0x2b3)),require(_0x4a6404(0x232))):_0x4a6404(0x211)==typeof define&&define[_0x4a6404(0x2c6)]?define(_0x4a6404(0x27b),[_0x4a6404(0x2b3),_0x4a6404(0x232)],_0x44a994):_0x4a6404(0x1c5)==typeof exports?exports[_0x4a6404(0x27b)]=_0x44a994(require('mars3d-cesium'),require('mars3d')):_0x403ebe[_0x4a6404(0x27b)]=_0x44a994(_0x403ebe[_0x4a6404(0x1f5)],_0x403ebe[_0x4a6404(0x232)]);}(window,function(_0x59a3ad,_0xa4b745){return function(_0x228617){var _0x578207={};function _0x3767e4(_0x3c145e){var _0x1a307a=a0_0x784b;if(_0x578207[_0x3c145e])return _0x578207[_0x3c145e]['exports'];var _0x17a43e=_0x578207[_0x3c145e]={'i':_0x3c145e,'l':!0x1,'exports':{}};return _0x228617[_0x3c145e][_0x1a307a(0x255)](_0x17a43e[_0x1a307a(0x192)],_0x17a43e,_0x17a43e[_0x1a307a(0x192)],_0x3767e4),_0x17a43e['l']=!0x0,_0x17a43e[_0x1a307a(0x192)];}return _0x3767e4['m']=_0x228617,_0x3767e4['c']=_0x578207,_0x3767e4['d']=function(_0xbb94a6,_0x4ead19,_0xb4fcbc){var _0x455743=a0_0x784b;_0x3767e4['o'](_0xbb94a6,_0x4ead19)||Object[_0x455743(0x2c4)](_0xbb94a6,_0x4ead19,{'enumerable':!0x0,'get':_0xb4fcbc});},_0x3767e4['r']=function(_0x20eaaf){var _0x5f16e1=a0_0x784b;'undefined'!=typeof Symbol&&Symbol['toStringTag']&&Object['defineProperty'](_0x20eaaf,Symbol[_0x5f16e1(0x28f)],{'value':_0x5f16e1(0x288)}),Object[_0x5f16e1(0x2c4)](_0x20eaaf,'__esModule',{'value':!0x0});},_0x3767e4['t']=function(_0x27ba18,_0x380b58){var _0x19bd83=a0_0x784b;if(0x1&_0x380b58&&(_0x27ba18=_0x3767e4(_0x27ba18)),0x8&_0x380b58)return _0x27ba18;if(0x4&_0x380b58&&_0x19bd83(0x1c5)==typeof _0x27ba18&&_0x27ba18&&_0x27ba18['__esModule'])return _0x27ba18;var _0x298f31=Object['create'](null);if(_0x3767e4['r'](_0x298f31),Object[_0x19bd83(0x2c4)](_0x298f31,_0x19bd83(0x2d8),{'enumerable':!0x0,'value':_0x27ba18}),0x2&_0x380b58&&_0x19bd83(0x2be)!=typeof _0x27ba18){for(var _0x4790b9 in _0x27ba18)_0x3767e4['d'](_0x298f31,_0x4790b9,function(_0x2c85d3){return _0x27ba18[_0x2c85d3];}['bind'](null,_0x4790b9));}return _0x298f31;},_0x3767e4['n']=function(_0x375b25){var _0x7d8365=_0x375b25&&_0x375b25['__esModule']?function(){var _0xef0761=a0_0x784b;return _0x375b25[_0xef0761(0x2d8)];}:function(){return _0x375b25;};return _0x3767e4['d'](_0x7d8365,'a',_0x7d8365),_0x7d8365;},_0x3767e4['o']=function(_0x231822,_0x5bf70e){var _0x5851a6=a0_0x784b;return Object['prototype']['hasOwnProperty'][_0x5851a6(0x255)](_0x231822,_0x5bf70e);},_0x3767e4['p']='',_0x3767e4(_0x3767e4['s']=0x14);}([function(_0xe5c7d4,_0x2362a0){var _0x96a83=a0_0x784b;_0xe5c7d4[_0x96a83(0x192)]=_0x59a3ad;},function(_0x376665,_0x10015f){var _0x56346f=a0_0x784b;_0x376665[_0x56346f(0x192)]=_0xa4b745;},function(_0xdb3769,_0x82db18){var _0xa7315=a0_0x784b;_0xdb3769[_0xa7315(0x192)]=function(_0x182091,_0x565896){var _0x87edf4=_0xa7315;if(!(_0x182091 instanceof _0x565896))throw new TypeError(_0x87edf4(0x27d));},_0xdb3769[_0xa7315(0x192)][_0xa7315(0x2d8)]=_0xdb3769['exports'],_0xdb3769[_0xa7315(0x192)]['__esModule']=!0x0;},function(_0x2a56f1,_0x1facb2){var _0x68065e=a0_0x784b;function _0x1d7bba(_0x3223d9,_0x4e4e15){var _0x364056=a0_0x784b;for(var _0x5d094d=0x0;_0x5d094d<_0x4e4e15[_0x364056(0x1fd)];_0x5d094d++){var _0x7a5801=_0x4e4e15[_0x5d094d];_0x7a5801[_0x364056(0x23f)]=_0x7a5801['enumerable']||!0x1,_0x7a5801[_0x364056(0x2e2)]=!0x0,_0x364056(0x2d2)in _0x7a5801&&(_0x7a5801[_0x364056(0x286)]=!0x0),Object[_0x364056(0x2c4)](_0x3223d9,_0x7a5801['key'],_0x7a5801);}}_0x2a56f1[_0x68065e(0x192)]=function(_0x1bf51b,_0x42b1d4,_0x1803db){var _0x13a456=_0x68065e;return _0x42b1d4&&_0x1d7bba(_0x1bf51b[_0x13a456(0x2d1)],_0x42b1d4),_0x1803db&&_0x1d7bba(_0x1bf51b,_0x1803db),_0x1bf51b;},_0x2a56f1[_0x68065e(0x192)]['default']=_0x2a56f1[_0x68065e(0x192)],_0x2a56f1[_0x68065e(0x192)][_0x68065e(0x23a)]=!0x0;},function(_0x15a48d,_0x1dc9ca){var _0x563e8c=a0_0x784b;function _0x3e1996(_0x39fa28){var _0x25cf88=a0_0x784b;return _0x15a48d[_0x25cf88(0x192)]=_0x3e1996=Object[_0x25cf88(0x2f8)]?Object['getPrototypeOf']:function(_0x2f1a86){var _0x2d8c62=_0x25cf88;return _0x2f1a86[_0x2d8c62(0x1ee)]||Object[_0x2d8c62(0x1d0)](_0x2f1a86);},_0x15a48d[_0x25cf88(0x192)][_0x25cf88(0x2d8)]=_0x15a48d[_0x25cf88(0x192)],_0x15a48d[_0x25cf88(0x192)]['__esModule']=!0x0,_0x3e1996(_0x39fa28);}_0x15a48d['exports']=_0x3e1996,_0x15a48d[_0x563e8c(0x192)][_0x563e8c(0x2d8)]=_0x15a48d[_0x563e8c(0x192)],_0x15a48d[_0x563e8c(0x192)][_0x563e8c(0x23a)]=!0x0;},function(_0x2c017d,_0x2cc990,_0x3cafef){var _0x29a49b=a0_0x784b,_0xdfd472=_0x3cafef(0x11);_0x2c017d[_0x29a49b(0x192)]=function(_0x58efb7,_0x5e86b0){var _0x94097c=_0x29a49b;if('function'!=typeof _0x5e86b0&&null!==_0x5e86b0)throw new TypeError(_0x94097c(0x1a1));_0x58efb7[_0x94097c(0x2d1)]=Object['create'](_0x5e86b0&&_0x5e86b0[_0x94097c(0x2d1)],{'constructor':{'value':_0x58efb7,'writable':!0x0,'configurable':!0x0}}),_0x5e86b0&&_0xdfd472(_0x58efb7,_0x5e86b0);},_0x2c017d[_0x29a49b(0x192)][_0x29a49b(0x2d8)]=_0x2c017d['exports'],_0x2c017d[_0x29a49b(0x192)][_0x29a49b(0x23a)]=!0x0;},function(_0x2049aa,_0x528672,_0x5d811d){var _0x1082fc=a0_0x784b,_0x22b6e3=_0x5d811d(0x12)[_0x1082fc(0x2d8)],_0x2a9704=_0x5d811d(0x13);_0x2049aa[_0x1082fc(0x192)]=function(_0x504f3a,_0x21cd5c){var _0x76e8ad=_0x1082fc;if(_0x21cd5c&&(_0x76e8ad(0x1c5)===_0x22b6e3(_0x21cd5c)||_0x76e8ad(0x211)==typeof _0x21cd5c))return _0x21cd5c;if(void 0x0!==_0x21cd5c)throw new TypeError(_0x76e8ad(0x2ba));return _0x2a9704(_0x504f3a);},_0x2049aa['exports'][_0x1082fc(0x2d8)]=_0x2049aa[_0x1082fc(0x192)],_0x2049aa[_0x1082fc(0x192)][_0x1082fc(0x23a)]=!0x0;},function(_0x22b241,_0x17ba12){var _0x37d75c=a0_0x784b;_0x22b241[_0x37d75c(0x192)]='attribute\x20vec3\x20position;\x0d\x0aattribute\x20vec2\x20st;\x0d\x0a\x0d\x0avarying\x20vec2\x20textureCoordinate;\x0d\x0a\x0d\x0avoid\x20main()\x20{\x0d\x0a\x20\x20\x20\x20textureCoordinate\x20=\x20st;\x0d\x0a\x20\x20\x20\x20gl_Position\x20=\x20vec4(position,\x201.0);\x0d\x0a}';},function(_0x2b00a3,_0xd01830){var _0x12f801=a0_0x784b;_0x2b00a3[_0x12f801(0x192)]=_0x12f801(0x2ef);},function(_0x3707f8,_0x33226e){var _0x241141=a0_0x784b;_0x3707f8['exports']=_0x241141(0x22c);},function(_0x5ae443,_0x6fd132){var _0x2d00e6=a0_0x784b;_0x5ae443[_0x2d00e6(0x192)]='uniform\x20sampler2D\x20segmentsColorTexture;\x0d\x0auniform\x20sampler2D\x20segmentsDepthTexture;\x0d\x0a\x0d\x0auniform\x20sampler2D\x20currentTrailsColor;\x0d\x0auniform\x20sampler2D\x20trailsDepthTexture;\x0d\x0a\x0d\x0auniform\x20float\x20fadeOpacity;\x0d\x0a\x0d\x0avarying\x20vec2\x20textureCoordinate;\x0d\x0a\x0d\x0avoid\x20main()\x20{\x0d\x0a\x20\x20\x20\x20vec4\x20pointsColor\x20=\x20texture2D(segmentsColorTexture,\x20textureCoordinate);\x0d\x0a\x20\x20\x20\x20vec4\x20trailsColor\x20=\x20texture2D(currentTrailsColor,\x20textureCoordinate);\x0d\x0a\x0d\x0a\x20\x20\x20\x20trailsColor\x20=\x20floor(fadeOpacity\x20*\x20255.0\x20*\x20trailsColor)\x20/\x20255.0;\x20//\x20make\x20sure\x20the\x20trailsColor\x20will\x20be\x20strictly\x20decreased\x0d\x0a\x0d\x0a\x20\x20\x20\x20float\x20pointsDepth\x20=\x20texture2D(segmentsDepthTexture,\x20textureCoordinate).r;\x0d\x0a\x20\x20\x20\x20float\x20trailsDepth\x20=\x20texture2D(trailsDepthTexture,\x20textureCoordinate).r;\x0d\x0a\x20\x20\x20\x20float\x20globeDepth\x20=\x20czm_unpackDepth(texture2D(czm_globeDepthTexture,\x20textureCoordinate));\x0d\x0a\x0d\x0a\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(0.0);\x0d\x0a\x20\x20\x20\x20if\x20(pointsDepth\x20<\x20globeDepth)\x20{\x0d\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20gl_FragColor\x20+\x20pointsColor;\x0d\x0a\x20\x20\x20\x20}\x0d\x0a\x20\x20\x20\x20if\x20(trailsDepth\x20<\x20globeDepth)\x20{\x0d\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20gl_FragColor\x20+\x20trailsColor;\x0d\x0a\x20\x20\x20\x20}\x0d\x0a\x20\x20\x20\x20gl_FragDepthEXT\x20=\x20min(pointsDepth,\x20trailsDepth);\x0d\x0a}';},function(_0x1357d9,_0x564b77){var _0x1388e1=a0_0x784b;_0x1357d9[_0x1388e1(0x192)]=_0x1388e1(0x271);},function(_0x4549c7,_0x5ab3d9){var _0x17fce9=a0_0x784b;_0x4549c7[_0x17fce9(0x192)]='//\x20the\x20size\x20of\x20UV\x20textures:\x20width\x20=\x20lon,\x20height\x20=\x20lat*lev\x0auniform\x20sampler2D\x20U;\x20//\x20eastward\x20wind\x20\x0auniform\x20sampler2D\x20V;\x20//\x20northward\x20wind\x0a\x0auniform\x20sampler2D\x20currentParticlesPosition;\x20//\x20(lon,\x20lat,\x20lev)\x0a\x0auniform\x20vec3\x20dimension;\x20//\x20(lon,\x20lat,\x20lev)\x0auniform\x20vec3\x20minimum;\x20//\x20minimum\x20of\x20each\x20dimension\x0auniform\x20vec3\x20maximum;\x20//\x20maximum\x20of\x20each\x20dimension\x0auniform\x20vec3\x20interval;\x20//\x20interval\x20of\x20each\x20dimension\x0a\x0avarying\x20vec2\x20v_textureCoordinates;\x0a\x0avec2\x20mapPositionToNormalizedIndex2D(vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20//\x20ensure\x20the\x20range\x20of\x20longitude\x20and\x20latitude\x0a\x20\x20\x20\x20lonLatLev.x\x20=\x20mod(lonLatLev.x,\x20360.0);\x0a\x20\x20\x20\x20lonLatLev.y\x20=\x20clamp(lonLatLev.y,\x20-90.0,\x2090.0);\x0a\x0a\x20\x20\x20\x20vec3\x20index3D\x20=\x20vec3(0.0);\x0a\x20\x20\x20\x20index3D.x\x20=\x20(lonLatLev.x\x20-\x20minimum.x)\x20/\x20interval.x;\x0a\x20\x20\x20\x20index3D.y\x20=\x20(lonLatLev.y\x20-\x20minimum.y)\x20/\x20interval.y;\x0a\x20\x20\x20\x20index3D.z\x20=\x20(lonLatLev.z\x20-\x20minimum.z)\x20/\x20interval.z;\x0a\x0a\x20\x20\x20\x20//\x20the\x20st\x20texture\x20coordinate\x20corresponding\x20to\x20(col,\x20row)\x20index\x0a\x20\x20\x20\x20//\x20example\x0a\x20\x20\x20\x20//\x20data\x20array\x20is\x20[0,\x201,\x202,\x203,\x204,\x205],\x20width\x20=\x203,\x20height\x20=\x202\x0a\x20\x20\x20\x20//\x20the\x20content\x20of\x20texture\x20will\x20be\x0a\x20\x20\x20\x20//\x20t\x201.0\x0a\x20\x20\x20\x20//\x20\x20\x20\x20|\x20\x203\x204\x205\x0a\x20\x20\x20\x20//\x20\x20\x20\x20|\x0a\x20\x20\x20\x20//\x20\x20\x20\x20|\x20\x200\x201\x202\x0a\x20\x20\x20\x20//\x20\x20\x200.0------1.0\x20s\x0a\x0a\x20\x20\x20\x20vec2\x20index2D\x20=\x20vec2(index3D.x,\x20index3D.z\x20*\x20dimension.y\x20+\x20index3D.y);\x0a\x20\x20\x20\x20vec2\x20normalizedIndex2D\x20=\x20vec2(index2D.x\x20/\x20dimension.x,\x20index2D.y\x20/\x20(dimension.y\x20*\x20dimension.z));\x0a\x20\x20\x20\x20return\x20normalizedIndex2D;\x0a}\x0a\x0afloat\x20getWind(sampler2D\x20windTexture,\x20vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20vec2\x20normalizedIndex2D\x20=\x20mapPositionToNormalizedIndex2D(lonLatLev);\x0a\x20\x20\x20\x20float\x20result\x20=\x20texture2D(windTexture,\x20normalizedIndex2D).r;\x0a\x20\x20\x20\x20return\x20result;\x0a}\x0a\x0aconst\x20mat4\x20kernelMatrix\x20=\x20mat4(\x0a\x20\x20\x20\x200.0,\x20-1.0,\x202.0,\x20-1.0,\x20//\x20first\x20column\x0a\x20\x20\x20\x202.0,\x200.0,\x20-5.0,\x203.0,\x20//\x20second\x20column\x0a\x20\x20\x20\x200.0,\x201.0,\x204.0,\x20-3.0,\x20//\x20third\x20column\x0a\x20\x20\x20\x200.0,\x200.0,\x20-1.0,\x201.0\x20//\x20fourth\x20column\x0a);\x0afloat\x20oneDimensionInterpolation(float\x20t,\x20float\x20p0,\x20float\x20p1,\x20float\x20p2,\x20float\x20p3)\x20{\x0a\x20\x20\x20\x20vec4\x20tVec4\x20=\x20vec4(1.0,\x20t,\x20t\x20*\x20t,\x20t\x20*\x20t\x20*\x20t);\x0a\x20\x20\x20\x20tVec4\x20=\x20tVec4\x20/\x202.0;\x0a\x20\x20\x20\x20vec4\x20pVec4\x20=\x20vec4(p0,\x20p1,\x20p2,\x20p3);\x0a\x20\x20\x20\x20return\x20dot((tVec4\x20*\x20kernelMatrix),\x20pVec4);\x0a}\x0a\x0afloat\x20calculateB(sampler2D\x20windTexture,\x20float\x20t,\x20float\x20lon,\x20float\x20lat,\x20float\x20lev)\x20{\x0a\x20\x20\x20\x20float\x20lon0\x20=\x20floor(lon)\x20-\x201.0\x20*\x20interval.x;\x0a\x20\x20\x20\x20float\x20lon1\x20=\x20floor(lon);\x0a\x20\x20\x20\x20float\x20lon2\x20=\x20floor(lon)\x20+\x201.0\x20*\x20interval.x;\x0a\x20\x20\x20\x20float\x20lon3\x20=\x20floor(lon)\x20+\x202.0\x20*\x20interval.x;\x0a\x0a\x20\x20\x20\x20float\x20p0\x20=\x20getWind(windTexture,\x20vec3(lon0,\x20lat,\x20lev));\x0a\x20\x20\x20\x20float\x20p1\x20=\x20getWind(windTexture,\x20vec3(lon1,\x20lat,\x20lev));\x0a\x20\x20\x20\x20float\x20p2\x20=\x20getWind(windTexture,\x20vec3(lon2,\x20lat,\x20lev));\x0a\x20\x20\x20\x20float\x20p3\x20=\x20getWind(windTexture,\x20vec3(lon3,\x20lat,\x20lev));\x0a\x0a\x20\x20\x20\x20return\x20oneDimensionInterpolation(t,\x20p0,\x20p1,\x20p2,\x20p3);\x0a}\x0a\x0afloat\x20interpolateOneTexture(sampler2D\x20windTexture,\x20vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20float\x20lon\x20=\x20lonLatLev.x;\x0a\x20\x20\x20\x20float\x20lat\x20=\x20lonLatLev.y;\x0a\x20\x20\x20\x20float\x20lev\x20=\x20lonLatLev.z;\x0a\x0a\x20\x20\x20\x20float\x20lat0\x20=\x20floor(lat)\x20-\x201.0\x20*\x20interval.y;\x0a\x20\x20\x20\x20float\x20lat1\x20=\x20floor(lat);\x0a\x20\x20\x20\x20float\x20lat2\x20=\x20floor(lat)\x20+\x201.0\x20*\x20interval.y;\x0a\x20\x20\x20\x20float\x20lat3\x20=\x20floor(lat)\x20+\x202.0\x20*\x20interval.y;\x0a\x0a\x20\x20\x20\x20vec2\x20coefficient\x20=\x20lonLatLev.xy\x20-\x20floor(lonLatLev.xy);\x0a\x20\x20\x20\x20float\x20b0\x20=\x20calculateB(windTexture,\x20coefficient.x,\x20lon,\x20lat0,\x20lev);\x0a\x20\x20\x20\x20float\x20b1\x20=\x20calculateB(windTexture,\x20coefficient.x,\x20lon,\x20lat1,\x20lev);\x0a\x20\x20\x20\x20float\x20b2\x20=\x20calculateB(windTexture,\x20coefficient.x,\x20lon,\x20lat2,\x20lev);\x0a\x20\x20\x20\x20float\x20b3\x20=\x20calculateB(windTexture,\x20coefficient.x,\x20lon,\x20lat3,\x20lev);\x0a\x0a\x20\x20\x20\x20return\x20oneDimensionInterpolation(coefficient.y,\x20b0,\x20b1,\x20b2,\x20b3);\x0a}\x0a\x0avec3\x20bicubic(vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20//\x20https://en.wikipedia.org/wiki/Bicubic_interpolation#Bicubic_convolution_algorithm\x0a\x20\x20\x20\x20float\x20u\x20=\x20interpolateOneTexture(U,\x20lonLatLev);\x0a\x20\x20\x20\x20float\x20v\x20=\x20interpolateOneTexture(V,\x20lonLatLev);\x0a\x20\x20\x20\x20float\x20w\x20=\x200.0;\x0a\x20\x20\x20\x20return\x20vec3(u,\x20v,\x20w);\x0a}\x0a\x0avoid\x20main()\x20{\x0a\x20\x20\x20\x20//\x20texture\x20coordinate\x20must\x20be\x20normalized\x0a\x20\x20\x20\x20vec3\x20lonLatLev\x20=\x20texture2D(currentParticlesPosition,\x20v_textureCoordinates).rgb;\x0a\x20\x20\x20\x20vec3\x20windVector\x20=\x20bicubic(lonLatLev);\x0a\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(windVector,\x200.0);\x0a}';},function(_0x2395a5,_0x41f665){var _0x138013=a0_0x784b;_0x2395a5[_0x138013(0x192)]='uniform\x20sampler2D\x20currentParticlesSpeed;\x20//\x20(u,\x20v,\x20w,\x20normalization)\x0auniform\x20sampler2D\x20particlesWind;\x0a\x0a//\x20used\x20to\x20calculate\x20the\x20wind\x20norm\x0auniform\x20vec2\x20uSpeedRange;\x20//\x20(min,\x20max);\x0auniform\x20vec2\x20vSpeedRange;\x0auniform\x20float\x20pixelSize;\x0auniform\x20float\x20speedFactor;\x0a\x0avarying\x20vec2\x20v_textureCoordinates;\x0a\x0afloat\x20calculateWindNorm(vec3\x20speed)\x20{\x0a\x20\x20\x20\x20vec3\x20percent\x20=\x20vec3(0.0);\x0a\x20\x20\x20\x20percent.x\x20=\x20(speed.x\x20-\x20uSpeedRange.x)\x20/\x20(uSpeedRange.y\x20-\x20uSpeedRange.x);\x0a\x20\x20\x20\x20percent.y\x20=\x20(speed.y\x20-\x20vSpeedRange.x)\x20/\x20(vSpeedRange.y\x20-\x20vSpeedRange.x);\x0a\x20\x20\x20\x20float\x20normalization\x20=\x20length(percent);\x0a\x0a\x20\x20\x20\x20return\x20normalization;\x0a}\x0a\x0avoid\x20main()\x20{\x0a\x20\x20\x20\x20//\x20texture\x20coordinate\x20must\x20be\x20normalized\x0a\x20\x20\x20\x20vec3\x20currentSpeed\x20=\x20texture2D(currentParticlesSpeed,\x20v_textureCoordinates).rgb;\x0a\x20\x20\x20\x20vec3\x20windVector\x20=\x20texture2D(particlesWind,\x20v_textureCoordinates).rgb;\x0a\x0a\x20\x20\x20\x20vec4\x20nextSpeed\x20=\x20vec4(speedFactor\x20*\x20pixelSize\x20*\x20windVector,\x20calculateWindNorm(windVector));\x0a\x20\x20\x20\x20gl_FragColor\x20=\x20nextSpeed;\x0a}';},function(_0xe553d,_0x31a4fe){var _0x199749=a0_0x784b;_0xe553d[_0x199749(0x192)]=_0x199749(0x2b1);},function(_0x1f921c,_0x5f5626){var _0x3ddfc8=a0_0x784b;_0x1f921c['exports']=_0x3ddfc8(0x1c8);},function(_0x585e10,_0x1458bb){_0x585e10['exports']='uniform\x20sampler2D\x20postProcessingPosition;\x0auniform\x20sampler2D\x20nextParticlesSpeed;\x0a\x0avarying\x20vec2\x20v_textureCoordinates;\x0a\x0avoid\x20main()\x20{\x0a\x20\x20\x20\x20vec4\x20randomParticle\x20=\x20texture2D(postProcessingPosition,\x20v_textureCoordinates);\x0a\x20\x20\x20\x20vec4\x20particleSpeed\x20=\x20texture2D(nextParticlesSpeed,\x20v_textureCoordinates);\x0a\x0a\x20\x20\x20\x20if\x20(randomParticle.a\x20>\x200.0)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(0.0);\x0a\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20particleSpeed;\x0a\x20\x20\x20\x20}\x0a}';},function(_0x307cec,_0x51c6f8){var _0xa0a461=a0_0x784b;function _0x4bd14a(_0x35d359,_0x474703){var _0x5a0246=a0_0x784b;return _0x307cec[_0x5a0246(0x192)]=_0x4bd14a=Object[_0x5a0246(0x2f8)]||function(_0x5b5f78,_0x36f03d){var _0x1ce864=_0x5a0246;return _0x5b5f78[_0x1ce864(0x1ee)]=_0x36f03d,_0x5b5f78;},_0x307cec[_0x5a0246(0x192)][_0x5a0246(0x2d8)]=_0x307cec[_0x5a0246(0x192)],_0x307cec[_0x5a0246(0x192)]['__esModule']=!0x0,_0x4bd14a(_0x35d359,_0x474703);}_0x307cec[_0xa0a461(0x192)]=_0x4bd14a,_0x307cec[_0xa0a461(0x192)][_0xa0a461(0x2d8)]=_0x307cec[_0xa0a461(0x192)],_0x307cec[_0xa0a461(0x192)][_0xa0a461(0x23a)]=!0x0;},function(_0x3a1246,_0x1251e4){var _0x690da9=a0_0x784b;function _0x4fbf8f(_0x4789f9){var _0x11d818=a0_0x784b;return _0x11d818(0x211)==typeof Symbol&&_0x11d818(0x2ec)==typeof Symbol[_0x11d818(0x1f7)]?(_0x3a1246['exports']=_0x4fbf8f=function(_0x3fd96a){return typeof _0x3fd96a;},_0x3a1246[_0x11d818(0x192)][_0x11d818(0x2d8)]=_0x3a1246[_0x11d818(0x192)],_0x3a1246[_0x11d818(0x192)][_0x11d818(0x23a)]=!0x0):(_0x3a1246[_0x11d818(0x192)]=_0x4fbf8f=function(_0x2c7ac1){var _0x11f7c4=_0x11d818;return _0x2c7ac1&&_0x11f7c4(0x211)==typeof Symbol&&_0x2c7ac1['constructor']===Symbol&&_0x2c7ac1!==Symbol[_0x11f7c4(0x2d1)]?_0x11f7c4(0x2ec):typeof _0x2c7ac1;},_0x3a1246[_0x11d818(0x192)][_0x11d818(0x2d8)]=_0x3a1246[_0x11d818(0x192)],_0x3a1246[_0x11d818(0x192)][_0x11d818(0x23a)]=!0x0),_0x4fbf8f(_0x4789f9);}_0x3a1246[_0x690da9(0x192)]=_0x4fbf8f,_0x3a1246[_0x690da9(0x192)][_0x690da9(0x2d8)]=_0x3a1246['exports'],_0x3a1246['exports'][_0x690da9(0x23a)]=!0x0;},function(_0x4663e1,_0xd2d4ec){var _0x49739d=a0_0x784b;_0x4663e1[_0x49739d(0x192)]=function(_0x2d037e){var _0x4dc6e6=_0x49739d;if(void 0x0===_0x2d037e)throw new ReferenceError(_0x4dc6e6(0x292));return _0x2d037e;},_0x4663e1['exports'][_0x49739d(0x2d8)]=_0x4663e1['exports'],_0x4663e1[_0x49739d(0x192)][_0x49739d(0x23a)]=!0x0;},function(_0x327322,_0x8a4a16,_0x3bbc17){'use strict';var _0x321d23=a0_0x784b;_0x3bbc17['r'](_0x8a4a16),_0x3bbc17['d'](_0x8a4a16,_0x321d23(0x2b5),function(){return _0x2a32c3;}),_0x3bbc17['d'](_0x8a4a16,_0x321d23(0x260),function(){return _0x3d1505;}),_0x3bbc17['d'](_0x8a4a16,_0x321d23(0x238),function(){return _0x406c42;});var _0x406c42={};_0x3bbc17['r'](_0x406c42),_0x3bbc17['d'](_0x406c42,_0x321d23(0x2bf),function(){return _0x2542b2;}),_0x3bbc17['d'](_0x406c42,_0x321d23(0x1bd),function(){return _0x362a7e;}),_0x3bbc17['d'](_0x406c42,'getSpeed',function(){return _0x348f6e;}),_0x3bbc17['d'](_0x406c42,_0x321d23(0x29e),function(){return _0x3ace92;});var _0x128e2d=_0x3bbc17(0x1),_0x47c256=_0x3bbc17(0x2),_0x47e4f8=_0x3bbc17['n'](_0x47c256),_0x535446=_0x3bbc17(0x3),_0x338719=_0x3bbc17['n'](_0x535446),_0x5a3ff8=_0x3bbc17(0x5),_0xfd36d3=_0x3bbc17['n'](_0x5a3ff8),_0x3d2ed6=_0x3bbc17(0x6),_0x34739b=_0x3bbc17['n'](_0x3d2ed6),_0x2fcb33=_0x3bbc17(0x4),_0x24298d=_0x3bbc17['n'](_0x2fcb33),_0x3f704b=_0x3bbc17(0x0),_0xc12920=function(){var _0x4512e2=_0x321d23;function _0x5d7a12(_0x1b6ad9){var _0x3109a8=a0_0x784b;_0x47e4f8()(this,_0x5d7a12),this[_0x3109a8(0x2f0)]=_0x1b6ad9[_0x3109a8(0x2f0)],this[_0x3109a8(0x1da)]=_0x1b6ad9[_0x3109a8(0x1da)],this[_0x3109a8(0x2b2)]=_0x1b6ad9[_0x3109a8(0x2b2)],this[_0x3109a8(0x2a4)]=_0x1b6ad9[_0x3109a8(0x2a4)],this[_0x3109a8(0x216)]=_0x1b6ad9[_0x3109a8(0x216)],this[_0x3109a8(0x2b8)]=_0x1b6ad9[_0x3109a8(0x2b8)],this[_0x3109a8(0x19d)]=_0x1b6ad9[_0x3109a8(0x19d)],this[_0x3109a8(0x2dd)]=_0x1b6ad9[_0x3109a8(0x2dd)],this[_0x3109a8(0x1e8)]=_0x1b6ad9['framebuffer'],this[_0x3109a8(0x19b)]=_0x1b6ad9[_0x3109a8(0x19b)],this[_0x3109a8(0x28b)]=_0x3f704b['defaultValue'](_0x1b6ad9[_0x3109a8(0x28b)],!0x1),this['preExecute']=_0x1b6ad9[_0x3109a8(0x282)],this['show']=!0x0,this['commandToExecute']=void 0x0,this[_0x3109a8(0x2e4)]=void 0x0,this['autoClear']&&(this[_0x3109a8(0x2e4)]=new _0x3f704b[(_0x3109a8(0x1d9))]({'color':new _0x3f704b['Color'](0x0,0x0,0x0,0x0),'depth':0x1,'framebuffer':this[_0x3109a8(0x1e8)],'pass':_0x3f704b[_0x3109a8(0x2bc)]['OPAQUE']}));}return _0x338719()(_0x5d7a12,[{'key':_0x4512e2(0x2a0),'value':function(_0x230489){var _0x50b92b=_0x4512e2;switch(this[_0x50b92b(0x2f0)]){case _0x50b92b(0x264):var _0x1adb66=_0x3f704b[_0x50b92b(0x209)]['fromGeometry']({'context':_0x230489,'geometry':this['geometry'],'attributeLocations':this[_0x50b92b(0x2b2)],'bufferUsage':_0x3f704b['BufferUsage'][_0x50b92b(0x25c)]}),_0x58b0d5=_0x3f704b[_0x50b92b(0x1c3)][_0x50b92b(0x294)]({'context':_0x230489,'attributeLocations':this[_0x50b92b(0x2b2)],'vertexShaderSource':this['vertexShaderSource'],'fragmentShaderSource':this[_0x50b92b(0x19d)]}),_0xbb1297=_0x3f704b[_0x50b92b(0x252)][_0x50b92b(0x294)](this['rawRenderState']);return new _0x3f704b[(_0x50b92b(0x1cb))]({'owner':this,'vertexArray':_0x1adb66,'primitiveType':this[_0x50b92b(0x2a4)],'uniformMap':this['uniformMap'],'modelMatrix':_0x3f704b[_0x50b92b(0x26c)][_0x50b92b(0x1aa)],'shaderProgram':_0x58b0d5,'framebuffer':this[_0x50b92b(0x1e8)],'renderState':_0xbb1297,'pass':_0x3f704b[_0x50b92b(0x2bc)]['OPAQUE']});case'Compute':return new _0x3f704b['ComputeCommand']({'owner':this,'fragmentShaderSource':this['fragmentShaderSource'],'uniformMap':this[_0x50b92b(0x216)],'outputTexture':this[_0x50b92b(0x19b)],'persists':!0x0});}}},{'key':'setGeometry','value':function(_0x3fe0b9,_0xb5ef35){var _0x87cd39=_0x4512e2;this['geometry']=_0xb5ef35;var _0x517003=_0x3f704b[_0x87cd39(0x209)]['fromGeometry']({'context':_0x3fe0b9,'geometry':this['geometry'],'attributeLocations':this['attributeLocations'],'bufferUsage':_0x3f704b['BufferUsage']['STATIC_DRAW']});this[_0x87cd39(0x23b)][_0x87cd39(0x1c2)]=_0x517003;}},{'key':'update','value':function(_0x2418f9){var _0x232299=_0x4512e2;this[_0x232299(0x18c)]&&_0x2418f9[_0x232299(0x222)]==_0x3f704b[_0x232299(0x1e1)]['SCENE3D']&&(_0x3f704b[_0x232299(0x2dc)](this[_0x232299(0x23b)])||(this[_0x232299(0x23b)]=this[_0x232299(0x2a0)](_0x2418f9[_0x232299(0x1ae)])),_0x3f704b[_0x232299(0x2dc)](this['preExecute'])&&this[_0x232299(0x282)](),_0x3f704b[_0x232299(0x2dc)](this['clearCommand'])&&_0x2418f9['commandList'][_0x232299(0x258)](this[_0x232299(0x2e4)]),_0x2418f9[_0x232299(0x23d)][_0x232299(0x258)](this[_0x232299(0x23b)]));}},{'key':_0x4512e2(0x1ce),'value':function(){return!0x1;}},{'key':_0x4512e2(0x24a),'value':function(){var _0x2dc338=_0x4512e2;return _0x3f704b['defined'](this[_0x2dc338(0x23b)])&&(this[_0x2dc338(0x23b)][_0x2dc338(0x259)]=this[_0x2dc338(0x23b)][_0x2dc338(0x259)]&&this[_0x2dc338(0x23b)][_0x2dc338(0x259)]['destroy']()),_0x3f704b[_0x2dc338(0x18f)](this);}}]),_0x5d7a12;}(),_0x24e2ec={'getFullscreenQuad':function(){var _0x421115=_0x321d23;return new _0x3f704b[(_0x421115(0x2d0))]({'attributes':new _0x3f704b[(_0x421115(0x296))]({'position':new _0x3f704b[(_0x421115(0x2d4))]({'componentDatatype':_0x3f704b['ComponentDatatype']['FLOAT'],'componentsPerAttribute':0x3,'values':new Float32Array([-0x1,-0x1,0x0,0x1,-0x1,0x0,0x1,0x1,0x0,-0x1,0x1,0x0])}),'st':new _0x3f704b[(_0x421115(0x2d4))]({'componentDatatype':_0x3f704b[_0x421115(0x231)][_0x421115(0x189)],'componentsPerAttribute':0x2,'values':new Float32Array([0x0,0x0,0x1,0x0,0x1,0x1,0x0,0x1])})}),'indices':new Uint32Array([0x3,0x2,0x0,0x0,0x2,0x1])});},'createTexture':function(_0x5be65f,_0x1dc641){var _0x2c53ff=_0x321d23;if(_0x3f704b[_0x2c53ff(0x2dc)](_0x1dc641)){var _0x4ee5dc={};_0x4ee5dc[_0x2c53ff(0x24f)]=_0x1dc641,_0x5be65f[_0x2c53ff(0x208)]=_0x4ee5dc;}return new _0x3f704b[(_0x2c53ff(0x27f))](_0x5be65f);},'createFramebuffer':function(_0x3ad7d5,_0x194383,_0x5619c6){var _0x19064c=_0x321d23;return new _0x3f704b[(_0x19064c(0x223))]({'context':_0x3ad7d5,'colorTextures':[_0x194383],'depthTexture':_0x5619c6});},'createRawRenderState':function(_0x4acc61){var _0x4adec6=_0x321d23,_0x20c606={'viewport':_0x4acc61[_0x4adec6(0x27a)],'depthTest':_0x4acc61['depthTest'],'depthMask':_0x4acc61[_0x4adec6(0x274)],'blending':_0x4acc61[_0x4adec6(0x298)]};return _0x3f704b[_0x4adec6(0x19e)][_0x4adec6(0x246)](!0x0,!0x1,_0x20c606);},'viewRectangleToLonLatRange':function(_0x12681c){var _0x81ca7a=_0x321d23,_0x2c3165,_0x3dac79,_0x20099c={},_0x2fd347=_0x3f704b[_0x81ca7a(0x253)][_0x81ca7a(0x1e4)](_0x12681c['west'],_0x3f704b[_0x81ca7a(0x253)]['TWO_PI']),_0x57756c=_0x3f704b[_0x81ca7a(0x253)][_0x81ca7a(0x1e4)](_0x12681c[_0x81ca7a(0x20a)],_0x3f704b['Math'][_0x81ca7a(0x1e5)]),_0x2332dc=_0x12681c[_0x81ca7a(0x289)];_0x2332dc>_0x3f704b[_0x81ca7a(0x253)][_0x81ca7a(0x204)]?(_0x2c3165=0x0,_0x3dac79=_0x3f704b[_0x81ca7a(0x253)][_0x81ca7a(0x1e5)]):_0x57756c-_0x2fd347<_0x2332dc?(_0x2c3165=_0x2fd347,_0x3dac79=_0x2fd347+_0x2332dc):(_0x2c3165=_0x2fd347,_0x3dac79=_0x57756c),_0x20099c['lon']={'min':_0x3f704b['Math'][_0x81ca7a(0x1ca)](_0x2c3165),'max':_0x3f704b[_0x81ca7a(0x253)][_0x81ca7a(0x1ca)](_0x3dac79)};var _0x5c65e9=_0x12681c['south'],_0x150d57=_0x12681c[_0x81ca7a(0x221)],_0x1bab39=_0x12681c[_0x81ca7a(0x206)],_0x15fa88=_0x1bab39>_0x3f704b['Math']['PI']/0xc?_0x1bab39/0x2:0x0,_0x330e3c=_0x3f704b[_0x81ca7a(0x253)][_0x81ca7a(0x2e0)](_0x5c65e9-_0x15fa88),_0x26f6b6=_0x3f704b[_0x81ca7a(0x253)][_0x81ca7a(0x2e0)](_0x150d57+_0x15fa88);return _0x330e3c<-_0x3f704b['Math'][_0x81ca7a(0x243)]&&(_0x330e3c=-_0x3f704b[_0x81ca7a(0x253)]['PI_OVER_TWO']),_0x26f6b6>_0x3f704b[_0x81ca7a(0x253)][_0x81ca7a(0x243)]&&(_0x26f6b6=_0x3f704b[_0x81ca7a(0x253)][_0x81ca7a(0x1a8)]),_0x20099c[_0x81ca7a(0x18d)]={'min':_0x3f704b[_0x81ca7a(0x253)][_0x81ca7a(0x1ca)](_0x330e3c),'max':_0x3f704b['Math']['toDegrees'](_0x26f6b6)},_0x20099c;}},_0x295daa=_0x3bbc17(0x8),_0x43eb6d=_0x3bbc17['n'](_0x295daa),_0x51dce7=_0x3bbc17(0x9),_0x4de33b=_0x3bbc17['n'](_0x51dce7),_0x5d8191=_0x3bbc17(0x7),_0x2251c5=_0x3bbc17['n'](_0x5d8191),_0x48ff4a=_0x3bbc17(0xa),_0x3f7738=_0x3bbc17['n'](_0x48ff4a),_0x418f8f=_0x3bbc17(0xb),_0x27ddd6=_0x3bbc17['n'](_0x418f8f),_0xc71fe5=function(){var _0x4e0e27=_0x321d23;function _0x95f683(_0x2d649b,_0x1b65c0,_0x5145e1,_0x22db1c,_0x259627){var _0x291363=a0_0x784b;_0x47e4f8()(this,_0x95f683),this[_0x291363(0x2a2)](_0x2d649b,_0x1b65c0),this[_0x291363(0x2ee)](_0x2d649b),this[_0x291363(0x1cc)](_0x2d649b,_0x5145e1,_0x22db1c,_0x259627);}return _0x338719()(_0x95f683,[{'key':_0x4e0e27(0x2a2),'value':function(_0x1045c8,_0x349a51){var _0x2568a6=_0x4e0e27,_0x1ef9c5={'context':_0x1045c8,'width':_0x1045c8[_0x2568a6(0x1db)],'height':_0x1045c8[_0x2568a6(0x1bb)],'pixelFormat':_0x3f704b[_0x2568a6(0x1ec)][_0x2568a6(0x1a2)],'pixelDatatype':_0x3f704b[_0x2568a6(0x207)][_0x2568a6(0x2b4)]},_0x57231a={'context':_0x1045c8,'width':_0x1045c8[_0x2568a6(0x1db)],'height':_0x1045c8['drawingBufferHeight'],'pixelFormat':_0x3f704b[_0x2568a6(0x1ec)]['DEPTH_COMPONENT'],'pixelDatatype':_0x3f704b[_0x2568a6(0x207)][_0x2568a6(0x193)]},_0x4de243={'context':_0x1045c8,'width':_0x349a51['colorTable'][_0x2568a6(0x21b)],'height':0x1,'pixelFormat':_0x3f704b[_0x2568a6(0x1ec)]['RGB'],'pixelDatatype':_0x3f704b[_0x2568a6(0x207)]['FLOAT'],'sampler':new _0x3f704b[(_0x2568a6(0x25e))]({'minificationFilter':_0x3f704b['TextureMinificationFilter'][_0x2568a6(0x291)],'magnificationFilter':_0x3f704b[_0x2568a6(0x20b)]['LINEAR']})};this[_0x2568a6(0x293)]={'segmentsColor':_0x24e2ec['createTexture'](_0x1ef9c5),'segmentsDepth':_0x24e2ec['createTexture'](_0x57231a),'currentTrailsColor':_0x24e2ec[_0x2568a6(0x185)](_0x1ef9c5),'currentTrailsDepth':_0x24e2ec[_0x2568a6(0x185)](_0x57231a),'nextTrailsColor':_0x24e2ec[_0x2568a6(0x185)](_0x1ef9c5),'nextTrailsDepth':_0x24e2ec[_0x2568a6(0x185)](_0x57231a),'colorTable':_0x24e2ec['createTexture'](_0x4de243,_0x349a51['colorTable'][_0x2568a6(0x1a0)])};}},{'key':_0x4e0e27(0x2ee),'value':function(_0x425c31){var _0x427f54=_0x4e0e27;this[_0x427f54(0x227)]={'segments':_0x24e2ec[_0x427f54(0x1e9)](_0x425c31,this[_0x427f54(0x293)][_0x427f54(0x2df)],this['textures'][_0x427f54(0x1c1)]),'currentTrails':_0x24e2ec['createFramebuffer'](_0x425c31,this[_0x427f54(0x293)][_0x427f54(0x244)],this[_0x427f54(0x293)][_0x427f54(0x23c)]),'nextTrails':_0x24e2ec[_0x427f54(0x1e9)](_0x425c31,this[_0x427f54(0x293)][_0x427f54(0x1b0)],this[_0x427f54(0x293)]['nextTrailsDepth'])};}},{'key':_0x4e0e27(0x235),'value':function(_0x5ec9a7){var _0x16e882=_0x4e0e27;for(var _0x88c564=[],_0x532f7b=0x0;_0x532f7b<_0x5ec9a7[_0x16e882(0x1d6)];_0x532f7b++)for(var _0x424ae1=0x0;_0x424ae1<_0x5ec9a7[_0x16e882(0x1d6)];_0x424ae1++)for(var _0x2184c9=0x0;_0x2184c9<0x4;_0x2184c9++)_0x88c564[_0x16e882(0x258)](_0x532f7b/_0x5ec9a7[_0x16e882(0x1d6)]),_0x88c564[_0x16e882(0x258)](_0x424ae1/_0x5ec9a7['particlesTextureSize']);_0x88c564=new Float32Array(_0x88c564);for(var _0xe80f0c=[],_0x3cf099=[-0x1,0x1],_0x3cc26e=[-0x1,0x1],_0x3487b4=0x0;_0x3487b4<_0x5ec9a7['maxParticles'];_0x3487b4++)for(var _0x4bdabd=0x0;_0x4bdabd<0x2;_0x4bdabd++)for(var _0x4df4c3=0x0;_0x4df4c3<0x2;_0x4df4c3++)_0xe80f0c[_0x16e882(0x258)](_0x3cf099[_0x4bdabd]),_0xe80f0c[_0x16e882(0x258)](_0x3cc26e[_0x4df4c3]),_0xe80f0c[_0x16e882(0x258)](0x0);_0xe80f0c=new Float32Array(_0xe80f0c);for(var _0x366d55=0x6*_0x5ec9a7['maxParticles'],_0x181386=new Uint32Array(_0x366d55),_0x42cd12=0x0,_0x15a393=0x0,_0x3f9764=0x0;_0x42cd12<_0x5ec9a7[_0x16e882(0x18a)];_0x42cd12++)_0x181386[_0x15a393++]=_0x3f9764+0x0,_0x181386[_0x15a393++]=_0x3f9764+0x1,_0x181386[_0x15a393++]=_0x3f9764+0x2,_0x181386[_0x15a393++]=_0x3f9764+0x2,_0x181386[_0x15a393++]=_0x3f9764+0x1,_0x181386[_0x15a393++]=_0x3f9764+0x3,_0x3f9764+=0x4;return new _0x3f704b[(_0x16e882(0x2d0))]({'attributes':new _0x3f704b['GeometryAttributes']({'st':new _0x3f704b[(_0x16e882(0x2d4))]({'componentDatatype':_0x3f704b['ComponentDatatype'][_0x16e882(0x189)],'componentsPerAttribute':0x2,'values':_0x88c564}),'normal':new _0x3f704b['GeometryAttribute']({'componentDatatype':_0x3f704b[_0x16e882(0x231)]['FLOAT'],'componentsPerAttribute':0x3,'values':_0xe80f0c})}),'indices':_0x181386});}},{'key':'createRenderingPrimitives','value':function(_0x1e28be,_0x12d151,_0xe3220d,_0x4e37de){var _0xa10318=_0x4e0e27,_0x1ce37d=this;this[_0xa10318(0x2f3)]={'segments':new _0xc12920({'commandType':_0xa10318(0x264),'attributeLocations':{'st':0x0,'normal':0x1},'geometry':this['createSegmentsGeometry'](_0x12d151),'primitiveType':_0x3f704b[_0xa10318(0x22a)][_0xa10318(0x21f)],'uniformMap':{'currentParticlesPosition':function(){var _0x350b1b=_0xa10318;return _0x4e37de[_0x350b1b(0x284)][_0x350b1b(0x22d)];},'postProcessingPosition':function(){var _0x26b89c=_0xa10318;return _0x4e37de['particlesTextures'][_0x26b89c(0x25d)];},'postProcessingSpeed':function(){var _0x304a9d=_0xa10318;return _0x4e37de[_0x304a9d(0x284)]['postProcessingSpeed'];},'colorTable':function(){return _0x1ce37d['textures']['colorTable'];},'aspect':function(){var _0xa81f0d=_0xa10318;return _0x1e28be[_0xa81f0d(0x1db)]/_0x1e28be[_0xa81f0d(0x1bb)];},'pixelSize':function(){var _0x382823=_0xa10318;return _0xe3220d[_0x382823(0x247)];},'lineWidth':function(){var _0x1211cd=_0xa10318;return _0x12d151[_0x1211cd(0x28a)];},'particleHeight':function(){var _0x34d9e6=_0xa10318;return _0x12d151[_0x34d9e6(0x1b2)];}},'vertexShaderSource':new _0x3f704b[(_0xa10318(0x1ab))]({'sources':[_0x43eb6d['a']]}),'fragmentShaderSource':new _0x3f704b[(_0xa10318(0x1ab))]({'sources':[_0x4de33b['a']]}),'rawRenderState':_0x24e2ec['createRawRenderState']({'viewport':void 0x0,'depthTest':{'enabled':!0x0},'depthMask':!0x0}),'framebuffer':this[_0xa10318(0x227)][_0xa10318(0x1bc)],'autoClear':!0x0}),'trails':new _0xc12920({'commandType':'Draw','attributeLocations':{'position':0x0,'st':0x1},'geometry':_0x24e2ec['getFullscreenQuad'](),'primitiveType':_0x3f704b['PrimitiveType']['TRIANGLES'],'uniformMap':{'segmentsColorTexture':function(){var _0xbce430=_0xa10318;return _0x1ce37d[_0xbce430(0x293)][_0xbce430(0x2df)];},'segmentsDepthTexture':function(){var _0x187acc=_0xa10318;return _0x1ce37d[_0x187acc(0x293)][_0x187acc(0x1c1)];},'currentTrailsColor':function(){var _0x31535e=_0xa10318;return _0x1ce37d[_0x31535e(0x227)][_0x31535e(0x215)][_0x31535e(0x18b)](0x0);},'trailsDepthTexture':function(){var _0x4552e5=_0xa10318;return _0x1ce37d['framebuffers'][_0x4552e5(0x215)][_0x4552e5(0x203)];},'fadeOpacity':function(){var _0x21a0a9=_0xa10318;return _0x12d151[_0x21a0a9(0x199)];}},'vertexShaderSource':new _0x3f704b[(_0xa10318(0x1ab))]({'defines':[_0xa10318(0x186)],'sources':[_0x2251c5['a']]}),'fragmentShaderSource':new _0x3f704b['ShaderSource']({'defines':[_0xa10318(0x18e)],'sources':[_0x3f7738['a']]}),'rawRenderState':_0x24e2ec[_0xa10318(0x210)]({'viewport':void 0x0,'depthTest':{'enabled':!0x0,'func':_0x3f704b[_0xa10318(0x1e2)][_0xa10318(0x248)]},'depthMask':!0x0}),'framebuffer':this[_0xa10318(0x227)]['nextTrails'],'autoClear':!0x0,'preExecute':function(){var _0x353c11=_0xa10318,_0x209335;_0x209335=_0x1ce37d[_0x353c11(0x227)][_0x353c11(0x215)],_0x1ce37d[_0x353c11(0x227)]['currentTrails']=_0x1ce37d[_0x353c11(0x227)]['nextTrails'],_0x1ce37d[_0x353c11(0x227)][_0x353c11(0x201)]=_0x209335,_0x1ce37d['primitives']['trails'][_0x353c11(0x23b)][_0x353c11(0x1e8)]=_0x1ce37d[_0x353c11(0x227)][_0x353c11(0x201)],_0x1ce37d[_0x353c11(0x2f3)][_0x353c11(0x20c)][_0x353c11(0x2e4)]['framebuffer']=_0x1ce37d['framebuffers']['nextTrails'];}}),'screen':new _0xc12920({'commandType':_0xa10318(0x264),'attributeLocations':{'position':0x0,'st':0x1},'geometry':_0x24e2ec[_0xa10318(0x2a7)](),'primitiveType':_0x3f704b[_0xa10318(0x22a)]['TRIANGLES'],'uniformMap':{'trailsColorTexture':function(){var _0xecc8da=_0xa10318;return _0x1ce37d[_0xecc8da(0x227)][_0xecc8da(0x201)][_0xecc8da(0x18b)](0x0);},'trailsDepthTexture':function(){var _0x1e4404=_0xa10318;return _0x1ce37d[_0x1e4404(0x227)][_0x1e4404(0x201)][_0x1e4404(0x203)];}},'vertexShaderSource':new _0x3f704b['ShaderSource']({'defines':[_0xa10318(0x186)],'sources':[_0x2251c5['a']]}),'fragmentShaderSource':new _0x3f704b[(_0xa10318(0x1ab))]({'defines':[_0xa10318(0x18e)],'sources':[_0x27ddd6['a']]}),'rawRenderState':_0x24e2ec[_0xa10318(0x210)]({'viewport':void 0x0,'depthTest':{'enabled':!0x1},'depthMask':!0x0,'blending':{'enabled':!0x0}}),'framebuffer':void 0x0})};}}]),_0x95f683;}(),_0x2fa386=_0x3bbc17(0xc),_0xc8936=_0x3bbc17['n'](_0x2fa386),_0x25cfe2=_0x3bbc17(0xd),_0x309f25=_0x3bbc17['n'](_0x25cfe2),_0x142808=_0x3bbc17(0xe),_0x3b29b8=_0x3bbc17['n'](_0x142808),_0x410593=_0x3bbc17(0xf),_0x34838b=_0x3bbc17['n'](_0x410593),_0x15481f=_0x3bbc17(0x10),_0x271784=_0x3bbc17['n'](_0x15481f),_0x4b139d=function(){var _0x1dbb7a=_0x321d23;function _0x3a93a1(_0x8063de,_0x5361ae,_0x53f9e0,_0x45553e){var _0x21011c=a0_0x784b;_0x47e4f8()(this,_0x3a93a1),this[_0x21011c(0x1c6)]=_0x5361ae,this[_0x21011c(0x24e)](_0x8063de,_0x5361ae),this['createParticlesTextures'](_0x8063de,_0x53f9e0,_0x45553e),this[_0x21011c(0x194)](_0x5361ae,_0x53f9e0,_0x45553e);}return _0x338719()(_0x3a93a1,[{'key':'createWindTextures','value':function(_0x4adc2d,_0x39740c){var _0x40815f=a0_0x784b,_0x2b2a98={'context':_0x4adc2d,'width':_0x39740c[_0x40815f(0x1f4)][_0x40815f(0x1fe)],'height':_0x39740c[_0x40815f(0x1f4)][_0x40815f(0x18d)]*_0x39740c[_0x40815f(0x1f4)][_0x40815f(0x1b7)],'pixelFormat':_0x3f704b[_0x40815f(0x1ec)][_0x40815f(0x2cf)],'pixelDatatype':_0x3f704b['PixelDatatype'][_0x40815f(0x189)],'flipY':!0x1,'sampler':new _0x3f704b[(_0x40815f(0x25e))]({'minificationFilter':_0x3f704b['TextureMinificationFilter'][_0x40815f(0x230)],'magnificationFilter':_0x3f704b[_0x40815f(0x20b)][_0x40815f(0x230)]})};this[_0x40815f(0x229)]={'U':_0x24e2ec['createTexture'](_0x2b2a98,_0x39740c['U'][_0x40815f(0x1a0)]),'V':_0x24e2ec[_0x40815f(0x185)](_0x2b2a98,_0x39740c['V'][_0x40815f(0x1a0)])};}},{'key':'createParticlesTextures','value':function(_0x4c5f96,_0x2db1dd,_0x55d151){var _0x1baf04=a0_0x784b,_0x1b6859={'context':_0x4c5f96,'width':_0x2db1dd[_0x1baf04(0x1d6)],'height':_0x2db1dd[_0x1baf04(0x1d6)],'pixelFormat':_0x3f704b[_0x1baf04(0x1ec)][_0x1baf04(0x1a2)],'pixelDatatype':_0x3f704b['PixelDatatype'][_0x1baf04(0x189)],'flipY':!0x1,'sampler':new _0x3f704b['Sampler']({'minificationFilter':_0x3f704b['TextureMinificationFilter'][_0x1baf04(0x230)],'magnificationFilter':_0x3f704b[_0x1baf04(0x20b)][_0x1baf04(0x230)]})},_0x507975=this['randomizeParticles'](_0x2db1dd[_0x1baf04(0x18a)],_0x55d151),_0x13ebbd=new Float32Array(0x4*_0x2db1dd[_0x1baf04(0x18a)])[_0x1baf04(0x1c0)](0x0);this['particlesTextures']={'particlesWind':_0x24e2ec[_0x1baf04(0x185)](_0x1b6859),'currentParticlesPosition':_0x24e2ec[_0x1baf04(0x185)](_0x1b6859,_0x507975),'nextParticlesPosition':_0x24e2ec[_0x1baf04(0x185)](_0x1b6859,_0x507975),'currentParticlesSpeed':_0x24e2ec[_0x1baf04(0x185)](_0x1b6859,_0x13ebbd),'nextParticlesSpeed':_0x24e2ec[_0x1baf04(0x185)](_0x1b6859,_0x13ebbd),'postProcessingPosition':_0x24e2ec[_0x1baf04(0x185)](_0x1b6859,_0x507975),'postProcessingSpeed':_0x24e2ec['createTexture'](_0x1b6859,_0x13ebbd)};}},{'key':_0x1dbb7a(0x26d),'value':function(_0xe7c85b,_0x138eda){var _0x206efe=_0x1dbb7a;for(var _0x43fca6=new Float32Array(0x4*_0xe7c85b),_0x94d0ac=0x0;_0x94d0ac<_0xe7c85b;_0x94d0ac++)_0x43fca6[0x4*_0x94d0ac]=_0x3f704b['Math'][_0x206efe(0x249)](_0x138eda[_0x206efe(0x2ea)]['x'],_0x138eda['lonRange']['y']),_0x43fca6[0x4*_0x94d0ac+0x1]=_0x3f704b['Math'][_0x206efe(0x249)](_0x138eda[_0x206efe(0x19c)]['x'],_0x138eda[_0x206efe(0x19c)]['y']),_0x43fca6[0x4*_0x94d0ac+0x2]=_0x3f704b[_0x206efe(0x253)][_0x206efe(0x249)](this[_0x206efe(0x1c6)][_0x206efe(0x1b7)][_0x206efe(0x1be)],this[_0x206efe(0x1c6)]['lev']['max']),_0x43fca6[0x4*_0x94d0ac+0x3]=0x0;return _0x43fca6;}},{'key':_0x1dbb7a(0x1d8),'value':function(){var _0x4acd8b=_0x1dbb7a,_0x425ffd=this;Object[_0x4acd8b(0x1c9)](this[_0x4acd8b(0x284)])['forEach'](function(_0x27d0b3){var _0x4d909e=_0x4acd8b;_0x425ffd[_0x4d909e(0x284)][_0x27d0b3][_0x4d909e(0x24a)]();});}},{'key':'createComputingPrimitives','value':function(_0x2b30cf,_0x3eed43,_0x5265dc){var _0x30242c=_0x1dbb7a,_0x1f2ce5=new _0x3f704b[(_0x30242c(0x2a8))](_0x2b30cf[_0x30242c(0x1f4)][_0x30242c(0x1fe)],_0x2b30cf[_0x30242c(0x1f4)][_0x30242c(0x18d)],_0x2b30cf[_0x30242c(0x1f4)][_0x30242c(0x1b7)]),_0x5f00cc=new _0x3f704b[(_0x30242c(0x2a8))](_0x2b30cf[_0x30242c(0x1fe)]['min'],_0x2b30cf[_0x30242c(0x18d)][_0x30242c(0x1be)],_0x2b30cf['lev'][_0x30242c(0x1be)]),_0x43203a=new _0x3f704b[(_0x30242c(0x2a8))](_0x2b30cf[_0x30242c(0x1fe)][_0x30242c(0x188)],_0x2b30cf[_0x30242c(0x18d)]['max'],_0x2b30cf[_0x30242c(0x1b7)][_0x30242c(0x188)]),_0x26f9b0=new _0x3f704b[(_0x30242c(0x2a8))]((_0x43203a['x']-_0x5f00cc['x'])/(_0x1f2ce5['x']-0x1),(_0x43203a['y']-_0x5f00cc['y'])/(_0x1f2ce5['y']-0x1),_0x1f2ce5['z']>0x1?(_0x43203a['z']-_0x5f00cc['z'])/(_0x1f2ce5['z']-0x1):0x1),_0x31fe63=new _0x3f704b[(_0x30242c(0x234))](_0x2b30cf['U'][_0x30242c(0x1be)],_0x2b30cf['U'][_0x30242c(0x188)]),_0x2ed6b6=new _0x3f704b[(_0x30242c(0x234))](_0x2b30cf['V'][_0x30242c(0x1be)],_0x2b30cf['V'][_0x30242c(0x188)]),_0x5d3549=this;this[_0x30242c(0x2f3)]={'getWind':new _0xc12920({'commandType':'Compute','uniformMap':{'U':function(){var _0x100936=_0x30242c;return _0x5d3549[_0x100936(0x229)]['U'];},'V':function(){var _0x42f2a3=_0x30242c;return _0x5d3549[_0x42f2a3(0x229)]['V'];},'currentParticlesPosition':function(){var _0x393fed=_0x30242c;return _0x5d3549['particlesTextures'][_0x393fed(0x22d)];},'dimension':function(){return _0x1f2ce5;},'minimum':function(){return _0x5f00cc;},'maximum':function(){return _0x43203a;},'interval':function(){return _0x26f9b0;}},'fragmentShaderSource':new _0x3f704b['ShaderSource']({'sources':[_0xc8936['a']]}),'outputTexture':this[_0x30242c(0x284)]['particlesWind'],'preExecute':function(){var _0x22b39d=_0x30242c;_0x5d3549[_0x22b39d(0x2f3)][_0x22b39d(0x1ff)][_0x22b39d(0x23b)][_0x22b39d(0x19b)]=_0x5d3549['particlesTextures'][_0x22b39d(0x1d1)];}}),'updateSpeed':new _0xc12920({'commandType':_0x30242c(0x273),'uniformMap':{'currentParticlesSpeed':function(){var _0x26b0c4=_0x30242c;return _0x5d3549[_0x26b0c4(0x284)][_0x26b0c4(0x1c7)];},'particlesWind':function(){var _0x56ac7f=_0x30242c;return _0x5d3549[_0x56ac7f(0x284)][_0x56ac7f(0x1d1)];},'uSpeedRange':function(){return _0x31fe63;},'vSpeedRange':function(){return _0x2ed6b6;},'pixelSize':function(){var _0x1304e4=_0x30242c;return _0x5265dc[_0x1304e4(0x247)];},'speedFactor':function(){var _0x420afc=_0x30242c;return _0x3eed43[_0x420afc(0x219)];}},'fragmentShaderSource':new _0x3f704b[(_0x30242c(0x1ab))]({'sources':[_0x309f25['a']]}),'outputTexture':this[_0x30242c(0x284)]['nextParticlesSpeed'],'preExecute':function(){var _0x266850=_0x30242c,_0x1f0f8e;_0x1f0f8e=_0x5d3549[_0x266850(0x284)]['currentParticlesSpeed'],_0x5d3549[_0x266850(0x284)]['currentParticlesSpeed']=_0x5d3549['particlesTextures'][_0x266850(0x1e6)],_0x5d3549['particlesTextures']['postProcessingSpeed']=_0x1f0f8e,_0x5d3549[_0x266850(0x2f3)][_0x266850(0x2a9)][_0x266850(0x23b)][_0x266850(0x19b)]=_0x5d3549[_0x266850(0x284)][_0x266850(0x28d)];}}),'updatePosition':new _0xc12920({'commandType':_0x30242c(0x273),'uniformMap':{'currentParticlesPosition':function(){var _0x53e848=_0x30242c;return _0x5d3549[_0x53e848(0x284)]['currentParticlesPosition'];},'currentParticlesSpeed':function(){var _0x3bd93f=_0x30242c;return _0x5d3549[_0x3bd93f(0x284)][_0x3bd93f(0x1c7)];}},'fragmentShaderSource':new _0x3f704b['ShaderSource']({'sources':[_0x3b29b8['a']]}),'outputTexture':this[_0x30242c(0x284)][_0x30242c(0x26e)],'preExecute':function(){var _0x30ff7f=_0x30242c,_0x41fc42;_0x41fc42=_0x5d3549[_0x30ff7f(0x284)][_0x30ff7f(0x22d)],_0x5d3549[_0x30ff7f(0x284)][_0x30ff7f(0x22d)]=_0x5d3549[_0x30ff7f(0x284)][_0x30ff7f(0x25d)],_0x5d3549[_0x30ff7f(0x284)][_0x30ff7f(0x25d)]=_0x41fc42,_0x5d3549[_0x30ff7f(0x2f3)]['updatePosition'][_0x30ff7f(0x23b)]['outputTexture']=_0x5d3549[_0x30ff7f(0x284)]['nextParticlesPosition'];}}),'postProcessingPosition':new _0xc12920({'commandType':_0x30242c(0x273),'uniformMap':{'nextParticlesPosition':function(){var _0x2a67b2=_0x30242c;return _0x5d3549[_0x2a67b2(0x284)][_0x2a67b2(0x26e)];},'nextParticlesSpeed':function(){var _0x354c30=_0x30242c;return _0x5d3549[_0x354c30(0x284)]['nextParticlesSpeed'];},'lonRange':function(){var _0x490daa=_0x30242c;return _0x5265dc[_0x490daa(0x2ea)];},'latRange':function(){var _0x204af5=_0x30242c;return _0x5265dc[_0x204af5(0x19c)];},'randomCoefficient':function(){var _0x5dbf84=_0x30242c,_0x1d09a1=Math[_0x5dbf84(0x1ef)]();return _0x1d09a1;},'dropRate':function(){var _0xe88c42=_0x30242c;return _0x3eed43[_0xe88c42(0x2e6)];},'dropRateBump':function(){var _0xbf23e9=_0x30242c;return _0x3eed43[_0xbf23e9(0x2d3)];}},'fragmentShaderSource':new _0x3f704b[(_0x30242c(0x1ab))]({'sources':[_0x34838b['a']]}),'outputTexture':this['particlesTextures'][_0x30242c(0x25d)],'preExecute':function(){var _0x258f5f=_0x30242c;_0x5d3549['primitives'][_0x258f5f(0x25d)][_0x258f5f(0x23b)][_0x258f5f(0x19b)]=_0x5d3549[_0x258f5f(0x284)][_0x258f5f(0x25d)];}}),'postProcessingSpeed':new _0xc12920({'commandType':_0x30242c(0x273),'uniformMap':{'postProcessingPosition':function(){return _0x5d3549['particlesTextures']['postProcessingPosition'];},'nextParticlesSpeed':function(){var _0x5dd701=_0x30242c;return _0x5d3549[_0x5dd701(0x284)][_0x5dd701(0x28d)];}},'fragmentShaderSource':new _0x3f704b[(_0x30242c(0x1ab))]({'sources':[_0x271784['a']]}),'outputTexture':this[_0x30242c(0x284)][_0x30242c(0x1e6)],'preExecute':function(){var _0x5f20b7=_0x30242c;_0x5d3549[_0x5f20b7(0x2f3)][_0x5f20b7(0x1e6)][_0x5f20b7(0x23b)]['outputTexture']=_0x5d3549[_0x5f20b7(0x284)][_0x5f20b7(0x1e6)];}})};}}]),_0x3a93a1;}(),_0x17cb10=function(){var _0x4af991=_0x321d23;function _0x6eba05(_0x15bb71,_0x2e810b,_0x48f877,_0x242b87){var _0x4587b9=a0_0x784b;_0x47e4f8()(this,_0x6eba05),this[_0x4587b9(0x1ae)]=_0x15bb71,this[_0x4587b9(0x1c6)]=_0x2e810b,this['userInput']=_0x48f877,this[_0x4587b9(0x2ed)]=_0x242b87,this['particlesComputing']=new _0x4b139d(this[_0x4587b9(0x1ae)],this['data'],this[_0x4587b9(0x2bb)],this[_0x4587b9(0x2ed)]),this[_0x4587b9(0x2aa)]=new _0xc71fe5(this[_0x4587b9(0x1ae)],this[_0x4587b9(0x1c6)],this[_0x4587b9(0x2bb)],this[_0x4587b9(0x2ed)],this['particlesComputing']);}return _0x338719()(_0x6eba05,[{'key':_0x4af991(0x20f),'value':function(_0x1f9f9a){var _0x3ec636=_0x4af991,_0x729f2a=this;this[_0x3ec636(0x27c)][_0x3ec636(0x1d8)](),Object[_0x3ec636(0x1c9)](this['particlesComputing'][_0x3ec636(0x229)])[_0x3ec636(0x1dc)](function(_0x16b2fb){var _0x509e05=_0x3ec636;_0x729f2a[_0x509e05(0x27c)][_0x509e05(0x229)][_0x16b2fb][_0x509e05(0x24a)]();}),this['particlesRendering'][_0x3ec636(0x293)][_0x3ec636(0x2ad)]['destroy'](),Object[_0x3ec636(0x1c9)](this[_0x3ec636(0x2aa)][_0x3ec636(0x227)])[_0x3ec636(0x1dc)](function(_0x46bc4d){var _0x1952dd=_0x3ec636;_0x729f2a['particlesRendering']['framebuffers'][_0x46bc4d][_0x1952dd(0x24a)]();}),this['context']=_0x1f9f9a,this[_0x3ec636(0x27c)]=new _0x4b139d(this[_0x3ec636(0x1ae)],this[_0x3ec636(0x1c6)],this[_0x3ec636(0x2bb)],this[_0x3ec636(0x2ed)]),this[_0x3ec636(0x2aa)]=new _0xc71fe5(this[_0x3ec636(0x1ae)],this['data'],this['userInput'],this['viewerParameters'],this[_0x3ec636(0x27c)]);}},{'key':'clearFramebuffers','value':function(){var _0x2eee22=_0x4af991,_0x42f1d0=this,_0xe97d1d=new _0x3f704b[(_0x2eee22(0x1d9))]({'color':new _0x3f704b[(_0x2eee22(0x2f6))](0x0,0x0,0x0,0x0),'depth':0x1,'framebuffer':void 0x0,'pass':_0x3f704b[_0x2eee22(0x2bc)][_0x2eee22(0x241)]});Object[_0x2eee22(0x1c9)](this['particlesRendering'][_0x2eee22(0x227)])[_0x2eee22(0x1dc)](function(_0x45caae){var _0xdb065e=_0x2eee22;_0xe97d1d[_0xdb065e(0x1e8)]=_0x42f1d0[_0xdb065e(0x2aa)]['framebuffers'][_0x45caae],_0xe97d1d[_0xdb065e(0x1fb)](_0x42f1d0['context']);});}},{'key':_0x4af991(0x1f6),'value':function(_0x1c07d6){var _0x4bce58=_0x4af991;if(this[_0x4bce58(0x1eb)](),this['particlesComputing'][_0x4bce58(0x1d8)](),this[_0x4bce58(0x27c)][_0x4bce58(0x1cd)](this[_0x4bce58(0x1ae)],this[_0x4bce58(0x2bb)],this[_0x4bce58(0x2ed)]),_0x1c07d6){var _0x329419=this[_0x4bce58(0x2aa)]['createSegmentsGeometry'](this[_0x4bce58(0x2bb)]);this[_0x4bce58(0x2aa)]['primitives']['segments'][_0x4bce58(0x1da)]=_0x329419;var _0x58314f=_0x3f704b['VertexArray'][_0x4bce58(0x1b3)]({'context':this[_0x4bce58(0x1ae)],'geometry':_0x329419,'attributeLocations':this[_0x4bce58(0x2aa)][_0x4bce58(0x2f3)][_0x4bce58(0x1bc)][_0x4bce58(0x2b2)],'bufferUsage':_0x3f704b[_0x4bce58(0x2e1)]['STATIC_DRAW']});this['particlesRendering'][_0x4bce58(0x2f3)][_0x4bce58(0x1bc)][_0x4bce58(0x23b)][_0x4bce58(0x1c2)]=_0x58314f;}}},{'key':_0x4af991(0x2a1),'value':function(_0x406397){var _0x4caa2a=_0x4af991,_0x487f3e=this,_0x1c9510=!0x1;this[_0x4caa2a(0x2bb)]['maxParticles']!=_0x406397[_0x4caa2a(0x18a)]&&(_0x1c9510=!0x0),Object[_0x4caa2a(0x1c9)](_0x406397)[_0x4caa2a(0x1dc)](function(_0x4aadcb){var _0x37107d=_0x4caa2a;_0x487f3e[_0x37107d(0x2bb)][_0x4aadcb]=_0x406397[_0x4aadcb];}),this[_0x4caa2a(0x1f6)](_0x1c9510);}},{'key':_0x4af991(0x270),'value':function(_0x223bcf){var _0x289e4e=_0x4af991,_0x4c07e3=this;Object[_0x289e4e(0x1c9)](_0x223bcf)['forEach'](function(_0x1ccd7a){var _0x37c6aa=_0x289e4e;_0x4c07e3[_0x37c6aa(0x2ed)][_0x1ccd7a]=_0x223bcf[_0x1ccd7a];}),this[_0x289e4e(0x1f6)](!0x1);}}]),_0x6eba05;}();function _0x3011b5(_0x2758f6){var _0xc72f5f=function(){var _0x26e3fe=a0_0x784b;if('undefined'==typeof Reflect||!Reflect['construct'])return!0x1;if(Reflect[_0x26e3fe(0x1e3)][_0x26e3fe(0x1fa)])return!0x1;if(_0x26e3fe(0x211)==typeof Proxy)return!0x0;try{return Boolean['prototype'][_0x26e3fe(0x240)][_0x26e3fe(0x255)](Reflect[_0x26e3fe(0x1e3)](Boolean,[],function(){})),!0x0;}catch(_0xa31404){return!0x1;}}();return function(){var _0x59b564=a0_0x784b,_0x8dd366,_0x3a42f6=_0x24298d()(_0x2758f6);if(_0xc72f5f){var _0x1635a2=_0x24298d()(this)['constructor'];_0x8dd366=Reflect[_0x59b564(0x1e3)](_0x3a42f6,arguments,_0x1635a2);}else _0x8dd366=_0x3a42f6[_0x59b564(0x191)](this,arguments);return _0x34739b()(this,_0x8dd366);};}var _0x48f78f=_0x128e2d[_0x321d23(0x283)][_0x321d23(0x2f4)],_0x598711=0x1000,_0x52a176=0x64,_0x3d8a61=0.996,_0x4ef39d=0.003,_0x2cb2ad=0.01,_0x1f7f31=0.5,_0x29e4f6=0x2,_0x2a32c3=function(_0x5545cd){var _0x1d215=_0x321d23;_0xfd36d3()(_0x36145f,_0x5545cd);var _0x27fb53=_0x3011b5(_0x36145f);function _0x36145f(){var _0x48f8fb=a0_0x784b,_0x2edafb,_0x203c02=arguments[_0x48f8fb(0x1fd)]>0x0&&void 0x0!==arguments[0x0]?arguments[0x0]:{};if(_0x47e4f8()(this,_0x36145f),(_0x2edafb=_0x27fb53[_0x48f8fb(0x255)](this,_0x203c02))[_0x48f8fb(0x18a)]=_0x598711,_0x2edafb[_0x48f8fb(0x1b2)]=_0x52a176,_0x2edafb[_0x48f8fb(0x199)]=_0x3d8a61,_0x2edafb['dropRate']=_0x4ef39d,_0x2edafb['dropRateBump']=_0x2cb2ad,_0x2edafb[_0x48f8fb(0x219)]=_0x1f7f31,_0x2edafb[_0x48f8fb(0x28a)]=_0x29e4f6,_0x203c02){for(var _0x50b70e in _0x203c02)_0x2edafb[_0x50b70e]=_0x203c02[_0x50b70e];}return _0x2edafb;}return _0x338719()(_0x36145f,[{'key':'layer','get':function(){var _0x23db6c=a0_0x784b;return this[_0x23db6c(0x2f3)];}},{'key':'_mountedHook','value':function(){}},{'key':'_addedHook','value':function(){var _0x9b979f=a0_0x784b;this[_0x9b979f(0x2fa)]=this[_0x9b979f(0x2e3)][_0x9b979f(0x2fa)],this[_0x9b979f(0x290)]=this[_0x9b979f(0x2e3)][_0x9b979f(0x290)],this['primitives']=new _0x3f704b[(_0x9b979f(0x2f1))](),this[_0x9b979f(0x2e3)]['scene']['primitives'][_0x9b979f(0x22f)](this[_0x9b979f(0x2f3)]),this[_0x9b979f(0x2ed)]={'lonRange':new _0x3f704b[(_0x9b979f(0x234))](),'latRange':new _0x3f704b[(_0x9b979f(0x234))](),'pixelSize':0x0},this['globeBoundingSphere']=new _0x3f704b['BoundingSphere'](_0x3f704b['Cartesian3'][_0x9b979f(0x2ae)],6314355.63),this[_0x9b979f(0x266)](),window[_0x9b979f(0x1ba)](_0x9b979f(0x2ab),this[_0x9b979f(0x2ab)][_0x9b979f(0x1f8)](this),!0x1),this[_0x9b979f(0x205)]=!0x1,this['mouse_move']=!0x1,this['_map']['on'](_0x128e2d[_0x9b979f(0x281)]['wheel'],this[_0x9b979f(0x254)],this),this[_0x9b979f(0x2e3)]['on'](_0x128e2d['EventType'][_0x9b979f(0x202)],this[_0x9b979f(0x2d6)],this),this[_0x9b979f(0x2e3)]['on'](_0x128e2d[_0x9b979f(0x281)]['mouseUp'],this['_onMouseUpEvent'],this),this['_map']['on'](_0x128e2d[_0x9b979f(0x281)]['mouseMove'],this[_0x9b979f(0x195)],this);}},{'key':'_removedHook','value':function(){var _0x3f9fd2=a0_0x784b;window[_0x3f9fd2(0x1a7)](_0x3f9fd2(0x2ab),this[_0x3f9fd2(0x2ab)]),this[_0x3f9fd2(0x2e3)][_0x3f9fd2(0x1a9)](_0x128e2d[_0x3f9fd2(0x281)][_0x3f9fd2(0x261)],this[_0x3f9fd2(0x1a5)],this),this['_map'][_0x3f9fd2(0x1a9)](_0x128e2d[_0x3f9fd2(0x281)]['wheel'],this[_0x3f9fd2(0x254)],this),this[_0x3f9fd2(0x2e3)][_0x3f9fd2(0x1a9)](_0x128e2d[_0x3f9fd2(0x281)][_0x3f9fd2(0x202)],this[_0x3f9fd2(0x2d6)],this),this[_0x3f9fd2(0x2e3)][_0x3f9fd2(0x1a9)](_0x128e2d[_0x3f9fd2(0x281)]['mouseUp'],this[_0x3f9fd2(0x236)],this),this['_map'][_0x3f9fd2(0x1a9)](_0x128e2d[_0x3f9fd2(0x281)][_0x3f9fd2(0x1df)],this[_0x3f9fd2(0x195)],this),this[_0x3f9fd2(0x2f3)][_0x3f9fd2(0x23e)](),this[_0x3f9fd2(0x2e3)][_0x3f9fd2(0x2fa)][_0x3f9fd2(0x2f3)]['remove'](this['primitives']);}},{'key':_0x1d215(0x2ab),'value':function(){var _0x5815cd=_0x1d215;this[_0x5815cd(0x18c)]&&this['particleSystem']&&(this[_0x5815cd(0x2f3)]['show']=!0x1,this[_0x5815cd(0x2f3)][_0x5815cd(0x23e)](),this[_0x5815cd(0x2e3)][_0x5815cd(0x257)](_0x128e2d[_0x5815cd(0x281)][_0x5815cd(0x261)],this[_0x5815cd(0x1a5)],this));}},{'key':'_onMap_preRenderEvent','value':function(_0xfab7f5){var _0x33d917=_0x1d215;this[_0x33d917(0x295)]['canvasResize'](this['scene']['context']),this[_0x33d917(0x1f2)](),this['primitives']['show']=!0x0;}},{'key':_0x1d215(0x254),'value':function(_0x4d80c4){var _0xddad6d=_0x1d215,_0x322fcc=this;clearTimeout(this['refreshTimer']),this[_0xddad6d(0x18c)]&&this[_0xddad6d(0x295)]&&(this[_0xddad6d(0x2f3)][_0xddad6d(0x18c)]=!0x1,this[_0xddad6d(0x1b8)]=setTimeout(function(){var _0x1fb27a=_0xddad6d;_0x322fcc['show']&&_0x322fcc[_0x1fb27a(0x190)]();},0xc8));}},{'key':_0x1d215(0x2d6),'value':function(_0x576d83){var _0x829e0f=_0x1d215;this[_0x829e0f(0x205)]=!0x0;}},{'key':_0x1d215(0x195),'value':function(_0xa601ec){var _0xda03fc=_0x1d215;this[_0xda03fc(0x18c)]&&this['particleSystem']&&this[_0xda03fc(0x205)]&&(this[_0xda03fc(0x2f3)][_0xda03fc(0x18c)]=!0x1,this[_0xda03fc(0x2a5)]=!0x0);}},{'key':_0x1d215(0x236),'value':function(_0x104944){var _0x173896=_0x1d215;this[_0x173896(0x18c)]&&this['particleSystem']&&(this['mouse_down']&&this[_0x173896(0x2a5)]&&this['redraw'](),this['primitives'][_0x173896(0x18c)]=!0x0,this[_0x173896(0x205)]=!0x1,this['mouse_move']=!0x1);}},{'key':_0x1d215(0x190),'value':function(){var _0x27a755=_0x1d215;this['_map']&&this[_0x27a755(0x18c)]&&(this['updateViewerParameters'](),this[_0x27a755(0x295)][_0x27a755(0x270)](this['viewerParameters']),this['primitives']['show']=!0x0);}},{'key':_0x1d215(0x1c4),'value':function(_0x59a315){var _0x44e37b=_0x1d215;this[_0x44e37b(0x295)]=new _0x17cb10(this[_0x44e37b(0x2fa)][_0x44e37b(0x1ae)],_0x59a315,this[_0x44e37b(0x1bf)](),this[_0x44e37b(0x2ed)]),this[_0x44e37b(0x1f2)]();}},{'key':_0x1d215(0x2d9),'value':function(_0x557970){var _0x43b9ee=_0x1d215;if(_0x557970){for(var _0x6151b1 in _0x557970)this[_0x6151b1]=_0x557970[_0x6151b1];}return this[_0x43b9ee(0x295)]&&this['particleSystem'][_0x43b9ee(0x2a1)](this[_0x43b9ee(0x1bf)]()),this;}},{'key':_0x1d215(0x1bf),'value':function(){var _0xc85093=_0x1d215,_0x403c7f=Math[_0xc85093(0x1f9)](Math[_0xc85093(0x2a6)](this['maxParticles']));return this[_0xc85093(0x18a)]=_0x403c7f*_0x403c7f,{'particlesTextureSize':_0x403c7f,'maxParticles':this['maxParticles'],'particleHeight':this[_0xc85093(0x1b2)],'fadeOpacity':this[_0xc85093(0x199)],'dropRate':this['dropRate'],'dropRateBump':this[_0xc85093(0x2d3)],'speedFactor':this[_0xc85093(0x219)],'lineWidth':this[_0xc85093(0x28a)],'globeLayer':this[_0xc85093(0x1ea)],'WMS_URL':this[_0xc85093(0x24c)]};}},{'key':_0x1d215(0x1f2),'value':function(){var _0x17d2a9=_0x1d215;this[_0x17d2a9(0x2f3)][_0x17d2a9(0x22f)](this[_0x17d2a9(0x295)][_0x17d2a9(0x27c)][_0x17d2a9(0x2f3)][_0x17d2a9(0x1ff)]),this[_0x17d2a9(0x2f3)][_0x17d2a9(0x22f)](this[_0x17d2a9(0x295)][_0x17d2a9(0x27c)][_0x17d2a9(0x2f3)][_0x17d2a9(0x2a9)]),this[_0x17d2a9(0x2f3)][_0x17d2a9(0x22f)](this[_0x17d2a9(0x295)][_0x17d2a9(0x27c)][_0x17d2a9(0x2f3)][_0x17d2a9(0x250)]),this[_0x17d2a9(0x2f3)][_0x17d2a9(0x22f)](this[_0x17d2a9(0x295)][_0x17d2a9(0x27c)][_0x17d2a9(0x2f3)][_0x17d2a9(0x25d)]),this[_0x17d2a9(0x2f3)][_0x17d2a9(0x22f)](this['particleSystem'][_0x17d2a9(0x27c)][_0x17d2a9(0x2f3)][_0x17d2a9(0x1e6)]),this[_0x17d2a9(0x2f3)]['add'](this[_0x17d2a9(0x295)]['particlesRendering'][_0x17d2a9(0x2f3)][_0x17d2a9(0x1bc)]),this[_0x17d2a9(0x2f3)][_0x17d2a9(0x22f)](this[_0x17d2a9(0x295)][_0x17d2a9(0x2aa)][_0x17d2a9(0x2f3)][_0x17d2a9(0x20c)]),this[_0x17d2a9(0x2f3)][_0x17d2a9(0x22f)](this[_0x17d2a9(0x295)]['particlesRendering']['primitives'][_0x17d2a9(0x263)]);}},{'key':'updateViewerParameters','value':function(){var _0x48d673=_0x1d215,_0x4ba778=this[_0x48d673(0x290)][_0x48d673(0x269)](this['scene'][_0x48d673(0x2af)][_0x48d673(0x2d7)]);if(!_0x4ba778){var _0x58659b=this[_0x48d673(0x2e3)]['getExtent']();_0x4ba778=_0x3f704b['Rectangle'][_0x48d673(0x2c2)](_0x58659b['xmin'],_0x58659b[_0x48d673(0x2b7)],_0x58659b[_0x48d673(0x242)],_0x58659b[_0x48d673(0x267)]);}var _0x29e56a=_0x24e2ec[_0x48d673(0x26b)](_0x4ba778);this['viewerParameters']['lonRange']['x']=_0x29e56a[_0x48d673(0x1fe)][_0x48d673(0x1be)],this[_0x48d673(0x2ed)][_0x48d673(0x2ea)]['y']=_0x29e56a[_0x48d673(0x1fe)][_0x48d673(0x188)],this['viewerParameters']['latRange']['x']=_0x29e56a[_0x48d673(0x18d)]['min'],this[_0x48d673(0x2ed)][_0x48d673(0x19c)]['y']=_0x29e56a[_0x48d673(0x18d)][_0x48d673(0x188)];var _0x4dce8a=this['camera'][_0x48d673(0x225)](this[_0x48d673(0x2f5)],this[_0x48d673(0x2fa)]['drawingBufferWidth'],this['scene'][_0x48d673(0x1bb)]);_0x4dce8a>0x0&&(this[_0x48d673(0x2ed)]['pixelSize']=_0x4dce8a);}}]),_0x36145f;}(_0x48f78f);_0x128e2d[_0x321d23(0x21a)][_0x321d23(0x214)]('wind',_0x2a32c3),_0x128e2d[_0x321d23(0x283)][_0x321d23(0x2b5)]=_0x2a32c3;var _0x278e18=function _0x1cf8cf(){var _0x4e217c=_0x321d23;_0x47e4f8()(this,_0x1cf8cf),this['lng']=null,this[_0x4e217c(0x18d)]=null,this[_0x4e217c(0x28c)]=null,this['tlat']=null,this[_0x4e217c(0x2ac)]=null;},_0x1062f5=function(){var _0x6c6c4f=_0x321d23;function _0x286303(_0x4cfef7,_0x4ee958){var _0x47d8de=a0_0x784b;_0x47e4f8()(this,_0x286303),this[_0x47d8de(0x1b1)]=_0x4cfef7[_0x47d8de(0x1b1)],this['cols']=_0x4cfef7[_0x47d8de(0x198)],this['xmin']=_0x4cfef7[_0x47d8de(0x287)],this[_0x47d8de(0x242)]=_0x4cfef7[_0x47d8de(0x242)],this[_0x47d8de(0x2b7)]=_0x4cfef7[_0x47d8de(0x2b7)],this[_0x47d8de(0x267)]=_0x4cfef7[_0x47d8de(0x267)],this['grid']=[];var _0x20d75a=_0x4cfef7[_0x47d8de(0x27e)],_0x44d0be=_0x4cfef7['vdata'],_0x18ecaa=!0x1;_0x20d75a['length']===this[_0x47d8de(0x1b1)]&&_0x20d75a[0x0]['length']===this['cols']&&(_0x18ecaa=!0x0);for(var _0x3b76e2=0x0,_0x30e450=null,_0x383cfc=null,_0x52aafb=0x0;_0x52aafb<this[_0x47d8de(0x1b1)];_0x52aafb++){_0x30e450=[];for(var _0x2d4dfb=0x0;_0x2d4dfb<this[_0x47d8de(0x198)];_0x2d4dfb++,_0x3b76e2++)_0x383cfc=_0x18ecaa?this[_0x47d8de(0x268)](_0x20d75a[_0x52aafb][_0x2d4dfb],_0x44d0be[_0x52aafb][_0x2d4dfb]):this['_calcUV'](_0x20d75a[_0x3b76e2],_0x44d0be[_0x3b76e2]),_0x30e450[_0x47d8de(0x258)](_0x383cfc);this[_0x47d8de(0x2cc)][_0x47d8de(0x258)](_0x30e450);}_0x4ee958&&this[_0x47d8de(0x2cc)][_0x47d8de(0x2f2)]();}return _0x338719()(_0x286303,[{'key':_0x6c6c4f(0x2ce),'value':function(_0x5db6fe,_0x3669ca){var _0x1b5c0b=_0x6c6c4f;return{'x':(_0x5db6fe-this[_0x1b5c0b(0x287)])/(this[_0x1b5c0b(0x242)]-this[_0x1b5c0b(0x287)])*(this[_0x1b5c0b(0x198)]-0x1),'y':(this[_0x1b5c0b(0x267)]-_0x3669ca)/(this[_0x1b5c0b(0x267)]-this[_0x1b5c0b(0x2b7)])*(this['rows']-0x1)};}},{'key':_0x6c6c4f(0x245),'value':function(_0x54cca1,_0x3ec22f){var _0x43505c=_0x6c6c4f;if(_0x54cca1<0x0||_0x54cca1>=this[_0x43505c(0x198)]||_0x3ec22f>=this[_0x43505c(0x1b1)])return[0x0,0x0,0x0];var _0x57e47d,_0xee01f0,_0x23eb20=Math[_0x43505c(0x197)](_0x54cca1),_0x25d916=Math['floor'](_0x3ec22f);if(_0x23eb20===_0x54cca1&&_0x25d916===_0x3ec22f)return this[_0x43505c(0x2cc)][_0x3ec22f][_0x54cca1];_0x57e47d=_0x23eb20+0x1,_0xee01f0=_0x25d916+0x1;var _0x5ac6d5=this[_0x43505c(0x245)](_0x23eb20,_0x25d916),_0x3b1ea9=this[_0x43505c(0x245)](_0x57e47d,_0x25d916),_0x35d8ee=this[_0x43505c(0x245)](_0x23eb20,_0xee01f0),_0x305ace=this[_0x43505c(0x245)](_0x57e47d,_0xee01f0),_0x9b3ba6=null;try{_0x9b3ba6=this[_0x43505c(0x1af)](_0x54cca1-_0x23eb20,_0x3ec22f-_0x25d916,_0x5ac6d5,_0x3b1ea9,_0x35d8ee,_0x305ace);}catch(_0x426358){console[_0x43505c(0x26f)](_0x54cca1,_0x3ec22f);}return _0x9b3ba6;}},{'key':_0x6c6c4f(0x1af),'value':function(_0x20e0b4,_0x354b3e,_0x570171,_0x5bb383,_0x17d370,_0x25c27e){var _0x4bc41f=_0x6c6c4f,_0x48d477=0x1-_0x20e0b4,_0x40af80=0x1-_0x354b3e,_0x1f9b42=_0x48d477*_0x40af80,_0x5f13ec=_0x20e0b4*_0x40af80,_0x18cf26=_0x48d477*_0x354b3e,_0x3929b3=_0x20e0b4*_0x354b3e,_0x4bd9d9=_0x570171[0x0]*_0x1f9b42+_0x5bb383[0x0]*_0x5f13ec+_0x17d370[0x0]*_0x18cf26+_0x25c27e[0x0]*_0x3929b3,_0x34ec8e=_0x570171[0x1]*_0x1f9b42+_0x5bb383[0x1]*_0x5f13ec+_0x17d370[0x1]*_0x18cf26+_0x25c27e[0x1]*_0x3929b3;return this[_0x4bc41f(0x268)](_0x4bd9d9,_0x34ec8e);}},{'key':_0x6c6c4f(0x268),'value':function(_0x516adb,_0x5d3755){var _0x279b8f=_0x6c6c4f;return[+_0x516adb,+_0x5d3755,Math[_0x279b8f(0x2a6)](_0x516adb*_0x516adb+_0x5d3755*_0x5d3755)];}},{'key':_0x6c6c4f(0x2db),'value':function(_0x2c7190,_0xc34c6e){var _0x58e7d2=_0x6c6c4f;if(!this[_0x58e7d2(0x1ad)](_0x2c7190,_0xc34c6e))return null;var _0x63415b=this[_0x58e7d2(0x2ce)](_0x2c7190,_0xc34c6e);return this[_0x58e7d2(0x245)](_0x63415b['x'],_0x63415b['y']);}},{'key':_0x6c6c4f(0x1ad),'value':function(_0x4a5a55,_0x2b7e6d){var _0x2a2193=_0x6c6c4f;return _0x4a5a55>=this[_0x2a2193(0x287)]&&_0x4a5a55<=this[_0x2a2193(0x242)]&&_0x2b7e6d>=this[_0x2a2193(0x2b7)]&&_0x2b7e6d<=this['ymax'];}},{'key':_0x6c6c4f(0x1d3),'value':function(){var _0x69b57b=_0x6c6c4f,_0x2faa73=_0x112dcb(this[_0x69b57b(0x287)],this[_0x69b57b(0x242)]);return{'lat':_0x112dcb(this[_0x69b57b(0x2b7)],this[_0x69b57b(0x267)]),'lng':_0x2faa73};}}]),_0x286303;}();function _0x112dcb(_0x39296f,_0x3aa40a){var _0x2ae17c=_0x321d23;return _0x39296f+Math[_0x2ae17c(0x1ef)]()*(_0x3aa40a-_0x39296f);}function _0x408097(_0x1527ff){var _0x31f656=function(){var _0x530bea=a0_0x784b;if(_0x530bea(0x275)==typeof Reflect||!Reflect[_0x530bea(0x1e3)])return!0x1;if(Reflect[_0x530bea(0x1e3)][_0x530bea(0x1fa)])return!0x1;if(_0x530bea(0x211)==typeof Proxy)return!0x0;try{return Boolean['prototype']['valueOf'][_0x530bea(0x255)](Reflect['construct'](Boolean,[],function(){})),!0x0;}catch(_0x3b7714){return!0x1;}}();return function(){var _0x48fccf=a0_0x784b,_0x5d7575,_0x172d43=_0x24298d()(_0x1527ff);if(_0x31f656){var _0x2db1cf=_0x24298d()(this)[_0x48fccf(0x2e9)];_0x5d7575=Reflect[_0x48fccf(0x1e3)](_0x172d43,arguments,_0x2db1cf);}else _0x5d7575=_0x172d43[_0x48fccf(0x191)](this,arguments);return _0x34739b()(this,_0x5d7575);};}var _0x3d1505=function(_0x4c16b4){var _0x1dfdb8=_0x321d23;_0xfd36d3()(_0x11fe49,_0x4c16b4);var _0x37c3ba=_0x408097(_0x11fe49);function _0x11fe49(){var _0x30bc9a=a0_0x784b,_0x45f0ad,_0x1a7d7d=arguments['length']>0x0&&void 0x0!==arguments[0x0]?arguments[0x0]:{};return _0x47e4f8()(this,_0x11fe49),(_0x45f0ad=_0x37c3ba['call'](this,_0x1a7d7d))['calc_speedRate']=[0x0,0x0],_0x45f0ad[_0x30bc9a(0x285)]=[],_0x45f0ad[_0x30bc9a(0x2f9)]=_0x1a7d7d[_0x30bc9a(0x2f9)]||0x32,_0x45f0ad['_particlesNumber']=_0x1a7d7d['particlesNumber']||0x4e20,_0x45f0ad['_maxAge']=_0x1a7d7d[_0x30bc9a(0x2e5)]||0x78,_0x45f0ad[_0x30bc9a(0x2bd)]=0x3e8/(_0x1a7d7d[_0x30bc9a(0x20e)]||0xa),_0x45f0ad['_pointerEvents']=_0x3f704b[_0x30bc9a(0x237)](_0x45f0ad[_0x30bc9a(0x256)][_0x30bc9a(0x2c7)],!0x1),_0x45f0ad[_0x30bc9a(0x1fc)]=_0x1a7d7d[_0x30bc9a(0x1fc)]||'#ffffff',_0x45f0ad['lineWidth']=_0x1a7d7d[_0x30bc9a(0x28a)]||0x1,_0x45f0ad['fixedHeight']=_0x3f704b[_0x30bc9a(0x237)](_0x1a7d7d[_0x30bc9a(0x196)],0x0),_0x45f0ad[_0x30bc9a(0x280)]=_0x3f704b[_0x30bc9a(0x237)](_0x1a7d7d[_0x30bc9a(0x280)],!0x1),_0x45f0ad['canvas']=null,_0x45f0ad;}return _0x338719()(_0x11fe49,[{'key':_0x1dfdb8(0x283),'get':function(){return this['canvas'];}},{'key':_0x1dfdb8(0x212),'get':function(){var _0x311942=_0x1dfdb8;return this[_0x311942(0x2e3)][_0x311942(0x2fa)][_0x311942(0x277)][_0x311942(0x2da)];}},{'key':'canvasHeight','get':function(){var _0x5bfeea=_0x1dfdb8;return this[_0x5bfeea(0x2e3)][_0x5bfeea(0x2fa)][_0x5bfeea(0x277)][_0x5bfeea(0x1d4)];}},{'key':_0x1dfdb8(0x2c7),'get':function(){var _0x315c9e=_0x1dfdb8;return this[_0x315c9e(0x1e0)];},'set':function(_0x5a14e2){var _0x2c6df9=_0x1dfdb8;this[_0x2c6df9(0x1e0)]=_0x5a14e2,this[_0x2c6df9(0x277)]&&(this[_0x2c6df9(0x277)][_0x2c6df9(0x2c9)][_0x2c6df9(0x218)]=_0x5a14e2?'all':'none');}},{'key':'speedRate','get':function(){return this['_speedRate'];},'set':function(_0x4901c2){var _0x4c2c00=_0x1dfdb8;this[_0x4c2c00(0x2cd)]=0x64*(0x64-(_0x4901c2>0x63?0x63:_0x4901c2)),this['_calcStep']();}},{'key':_0x1dfdb8(0x226),'get':function(){var _0x34b42e=_0x1dfdb8;return this[_0x34b42e(0x2cb)];},'set':function(_0x437574){var _0x57164a=_0x1dfdb8,_0x370397=this;this['_particlesNumber']=_0x437574,clearTimeout(this[_0x57164a(0x1a3)]),this['canrefresh']=setTimeout(function(){var _0x3986e8=_0x57164a;_0x370397[_0x3986e8(0x190)]();},0x1f4);}},{'key':_0x1dfdb8(0x2e5),'get':function(){return this['_maxAge'];},'set':function(_0x4fdf88){var _0x57d62e=_0x1dfdb8,_0x500220=this;this['_maxAge']=_0x4fdf88,clearTimeout(this[_0x57d62e(0x1a3)]),this['canrefresh']=setTimeout(function(){var _0x22f959=_0x57d62e;_0x500220[_0x22f959(0x190)]();},0x1f4);}},{'key':_0x1dfdb8(0x1c6),'get':function(){var _0x3eb7df=_0x1dfdb8;return this[_0x3eb7df(0x1d2)];},'set':function(_0x4b672f){this['updateDate'](_0x4b672f);}},{'key':_0x1dfdb8(0x1d5),'value':function(_0x448423){var _0x3dc83b=_0x1dfdb8;_0x448423?this[_0x3dc83b(0x2c5)]():(this[_0x3dc83b(0x1d2)]&&(this[_0x3dc83b(0x256)][_0x3dc83b(0x1c6)]=this['windData']),this[_0x3dc83b(0x2c3)]());}},{'key':_0x1dfdb8(0x22e),'value':function(){}},{'key':_0x1dfdb8(0x2c5),'value':function(){var _0x457f68=_0x1dfdb8;this['canvas']=this[_0x457f68(0x2d5)](),this['canvasContext']=this[_0x457f68(0x277)][_0x457f68(0x19a)]('2d'),this['bindEvent'](),this['options']['data']&&this[_0x457f68(0x1b9)](this[_0x457f68(0x256)][_0x457f68(0x1c6)]);}},{'key':_0x1dfdb8(0x2c3),'value':function(){var _0x594958=_0x1dfdb8;this[_0x594958(0x1a4)](),this[_0x594958(0x272)](),this['canvas']&&(this[_0x594958(0x2e3)][_0x594958(0x1e7)][_0x594958(0x25b)](this[_0x594958(0x277)]),delete this[_0x594958(0x277)]);}},{'key':_0x1dfdb8(0x2d5),'value':function(){var _0x511c75=_0x1dfdb8,_0x3a91e1=document['createElement']('canvas');_0x3a91e1[_0x511c75(0x2c9)]['position']=_0x511c75(0x200),_0x3a91e1['style'][_0x511c75(0x2c8)]=_0x511c75(0x265),_0x3a91e1[_0x511c75(0x2c9)][_0x511c75(0x1f1)]=_0x511c75(0x265),_0x3a91e1[_0x511c75(0x2c9)]['width']='100%',_0x3a91e1[_0x511c75(0x2c9)]['height']=_0x511c75(0x262),_0x3a91e1[_0x511c75(0x2c9)][_0x511c75(0x2c7)]=this[_0x511c75(0x1e0)]?_0x511c75(0x24b):_0x511c75(0x29b),_0x3a91e1[_0x511c75(0x2c9)][_0x511c75(0x1cf)]=0xa,_0x3a91e1[_0x511c75(0x2f7)]('id',_0x511c75(0x220)),_0x3a91e1['setAttribute'](_0x511c75(0x1a6),_0x511c75(0x220)),this[_0x511c75(0x2e3)][_0x511c75(0x1e7)][_0x511c75(0x1ac)](_0x3a91e1);var _0x196b7a=this[_0x511c75(0x2e3)][_0x511c75(0x2fa)];return _0x3a91e1[_0x511c75(0x289)]=_0x196b7a['canvas'][_0x511c75(0x2da)],_0x3a91e1[_0x511c75(0x206)]=_0x196b7a[_0x511c75(0x277)][_0x511c75(0x1d4)],_0x3a91e1;}},{'key':_0x1dfdb8(0x2ab),'value':function(){var _0x15b004=_0x1dfdb8;this[_0x15b004(0x277)]&&(this[_0x15b004(0x277)][_0x15b004(0x289)]=this['canvasWidth'],this[_0x15b004(0x277)][_0x15b004(0x206)]=this[_0x15b004(0x29d)]);}},{'key':'bindEvent','value':function(){var _0x520cc3=_0x1dfdb8,_0x2d214f=this,_0x12654a=Date[_0x520cc3(0x29f)]();!function _0x394768(){var _0x4165d2=_0x520cc3;_0x2d214f[_0x4165d2(0x279)]=window[_0x4165d2(0x2c0)](_0x394768);var _0x593016=Date[_0x4165d2(0x29f)](),_0x3a24c2=_0x593016-_0x12654a;_0x3a24c2>_0x2d214f[_0x4165d2(0x2bd)]&&(_0x12654a=_0x593016-_0x3a24c2%_0x2d214f[_0x4165d2(0x2bd)],_0x2d214f['update']());}(),window['addEventListener'](_0x520cc3(0x2ab),this['resize'][_0x520cc3(0x1f8)](this),!0x1),this['mouse_down']=!0x1,this['mouse_move']=!0x1,this[_0x520cc3(0x2e3)]['on'](_0x128e2d[_0x520cc3(0x281)][_0x520cc3(0x26a)],this[_0x520cc3(0x254)],this),this['_map']['on'](_0x128e2d['EventType']['mouseDown'],this[_0x520cc3(0x2d6)],this),this[_0x520cc3(0x2e3)]['on'](_0x128e2d[_0x520cc3(0x281)]['mouseUp'],this[_0x520cc3(0x236)],this),this[_0x520cc3(0x2e3)]['on'](_0x128e2d[_0x520cc3(0x281)][_0x520cc3(0x1df)],this[_0x520cc3(0x195)],this);}},{'key':_0x1dfdb8(0x272),'value':function(){var _0x5bfc3e=_0x1dfdb8;window[_0x5bfc3e(0x1f3)](this[_0x5bfc3e(0x279)]),delete this[_0x5bfc3e(0x279)],window['removeEventListener']('resize',this[_0x5bfc3e(0x2ab)]),this[_0x5bfc3e(0x2e3)][_0x5bfc3e(0x1a9)](_0x128e2d[_0x5bfc3e(0x281)][_0x5bfc3e(0x26a)],this[_0x5bfc3e(0x254)],this),this[_0x5bfc3e(0x2e3)][_0x5bfc3e(0x1a9)](_0x128e2d[_0x5bfc3e(0x281)][_0x5bfc3e(0x202)],this['_onMouseDownEvent'],this),this['_map'][_0x5bfc3e(0x1a9)](_0x128e2d[_0x5bfc3e(0x281)]['mouseUp'],this[_0x5bfc3e(0x236)],this),this[_0x5bfc3e(0x2e3)][_0x5bfc3e(0x1a9)](_0x128e2d[_0x5bfc3e(0x281)]['mouseMove'],this[_0x5bfc3e(0x195)],this);}},{'key':_0x1dfdb8(0x254),'value':function(_0x4c2e1a){var _0x28edf3=_0x1dfdb8,_0x2e9c6e=this;clearTimeout(this[_0x28edf3(0x1b8)]),this['show']&&this['canvas']&&(this['canvas'][_0x28edf3(0x2c9)][_0x28edf3(0x2ca)]=_0x28edf3(0x276),this[_0x28edf3(0x1b8)]=setTimeout(function(){var _0x4c3e1f=_0x28edf3;_0x2e9c6e[_0x4c3e1f(0x18c)]&&(_0x2e9c6e['redraw'](),_0x2e9c6e[_0x4c3e1f(0x277)]['style'][_0x4c3e1f(0x2ca)]='visible');},0xc8));}},{'key':_0x1dfdb8(0x2d6),'value':function(_0x10177d){var _0x285583=_0x1dfdb8;this[_0x285583(0x205)]=!0x0;}},{'key':_0x1dfdb8(0x195),'value':function(_0x13047b){var _0x1158a9=_0x1dfdb8;this[_0x1158a9(0x18c)]&&this[_0x1158a9(0x277)]&&this[_0x1158a9(0x205)]&&(this[_0x1158a9(0x277)]['style'][_0x1158a9(0x2ca)]=_0x1158a9(0x276),this[_0x1158a9(0x2a5)]=!0x0);}},{'key':_0x1dfdb8(0x236),'value':function(_0x15b208){var _0x467ffd=_0x1dfdb8;this['show']&&this[_0x467ffd(0x277)]&&(this[_0x467ffd(0x205)]&&this[_0x467ffd(0x2a5)]&&this[_0x467ffd(0x190)](),this[_0x467ffd(0x277)][_0x467ffd(0x2c9)][_0x467ffd(0x2ca)]=_0x467ffd(0x2c1),this['mouse_down']=!0x1,this['mouse_move']=!0x1);}},{'key':_0x1dfdb8(0x190),'value':function(){var _0x328c92=_0x1dfdb8;this[_0x328c92(0x18c)]&&this[_0x328c92(0x213)]&&(this[_0x328c92(0x285)]=[],this[_0x328c92(0x278)]());}},{'key':'updateDate','value':function(_0x53a49b){var _0x3b409c=_0x1dfdb8;this[_0x3b409c(0x1a4)](),this[_0x3b409c(0x1d2)]=_0x53a49b,this[_0x3b409c(0x213)]=new _0x1062f5(this['windData'],this[_0x3b409c(0x280)]),this[_0x3b409c(0x278)]();}},{'key':_0x1dfdb8(0x278),'value':function(){var _0x2160a9=_0x1dfdb8;this[_0x2160a9(0x1f0)]();for(var _0x40d1cb=0x0;_0x40d1cb<this[_0x2160a9(0x226)];_0x40d1cb++){var _0x1946f5=this['randomParticle'](new _0x278e18());this[_0x2160a9(0x285)][_0x2160a9(0x258)](_0x1946f5);}this[_0x2160a9(0x297)][_0x2160a9(0x21c)]=_0x2160a9(0x21e),this[_0x2160a9(0x297)][_0x2160a9(0x217)]=0.6,this[_0x2160a9(0x1dd)]();}},{'key':_0x1dfdb8(0x1f0),'value':function(){var _0x22d3bd=_0x1dfdb8;this[_0x22d3bd(0x213)]&&(this[_0x22d3bd(0x1d7)]=[(this['windField']['xmax']-this['windField'][_0x22d3bd(0x287)])/this[_0x22d3bd(0x2f9)],(this[_0x22d3bd(0x213)][_0x22d3bd(0x267)]-this['windField'][_0x22d3bd(0x2b7)])/this[_0x22d3bd(0x2f9)]]);}},{'key':'update','value':function(){var _0xffff6e=_0x1dfdb8,_0x5c959d=this;if(this[_0xffff6e(0x18c)]&&!(this[_0xffff6e(0x285)][_0xffff6e(0x1fd)]<=0x0)){var _0x1cac44=null,_0x3c96bd=null,_0x2b6d52=null;this[_0xffff6e(0x285)][_0xffff6e(0x1dc)](function(_0x39a690){var _0xe8e0c8=_0xffff6e;if(_0x39a690[_0xe8e0c8(0x2ac)]<=0x0&&_0x5c959d[_0xe8e0c8(0x251)](_0x39a690),_0x39a690[_0xe8e0c8(0x2ac)]>0x0){var _0xf629ad=_0x39a690[_0xe8e0c8(0x28c)],_0x1a63c8=_0x39a690[_0xe8e0c8(0x2de)];(_0x2b6d52=_0x5c959d['windField'][_0xe8e0c8(0x2db)](_0xf629ad,_0x1a63c8))?(_0x1cac44=_0xf629ad+_0x5c959d[_0xe8e0c8(0x1d7)][0x0]*_0x2b6d52[0x0],_0x3c96bd=_0x1a63c8+_0x5c959d[_0xe8e0c8(0x1d7)][0x1]*_0x2b6d52[0x1],_0x39a690['lng']=_0xf629ad,_0x39a690[_0xe8e0c8(0x18d)]=_0x1a63c8,_0x39a690[_0xe8e0c8(0x28c)]=_0x1cac44,_0x39a690['tlat']=_0x3c96bd,_0x39a690['age']--):_0x39a690[_0xe8e0c8(0x2ac)]=0x0;}}),this['_drawLines']();}}},{'key':_0x1dfdb8(0x299),'value':function(_0x45854b,_0x2d30d0,_0x230481){var _0x22a6f3=_0x1dfdb8,_0x2b9f7d=_0x3f704b[_0x22a6f3(0x2a8)][_0x22a6f3(0x2c2)](_0x45854b,_0x2d30d0,this[_0x22a6f3(0x196)]),_0x5d788e=this[_0x22a6f3(0x2e3)]['scene'];if(_0x5d788e[_0x22a6f3(0x222)]===_0x3f704b[_0x22a6f3(0x1e1)][_0x22a6f3(0x29c)]&&!new _0x3f704b['EllipsoidalOccluder'](_0x5d788e['globe']['ellipsoid'],_0x5d788e[_0x22a6f3(0x290)][_0x22a6f3(0x2eb)])[_0x22a6f3(0x22b)](_0x2b9f7d))return _0x230481[_0x22a6f3(0x2ac)]=0x0,null;var _0x12729a=_0x3f704b['SceneTransforms'][_0x22a6f3(0x228)](this[_0x22a6f3(0x2e3)]['scene'],_0x2b9f7d);return _0x12729a?[_0x12729a['x'],_0x12729a['y']]:null;}},{'key':_0x1dfdb8(0x224),'value':function(){var _0x34801b=_0x1dfdb8,_0x4856a3=this,_0x5a53d3=this[_0x34801b(0x285)];this[_0x34801b(0x297)][_0x34801b(0x28a)]=_0x4856a3['lineWidth'],this[_0x34801b(0x297)]['globalCompositeOperation']=_0x34801b(0x29a),this[_0x34801b(0x297)][_0x34801b(0x2e7)](0x0,0x0,this[_0x34801b(0x212)],this['canvasHeight']),this[_0x34801b(0x297)]['globalCompositeOperation']='lighter',this[_0x34801b(0x297)][_0x34801b(0x217)]=0.9,this['canvasContext']['beginPath'](),this[_0x34801b(0x297)]['strokeStyle']=this['color'];var _0x29b2ea=this[_0x34801b(0x2e3)][_0x34801b(0x2fa)][_0x34801b(0x222)]!==_0x3f704b['SceneMode']['SCENE3D'];_0x5a53d3[_0x34801b(0x1dc)](function(_0x56f69f){var _0xa4d983=_0x34801b,_0x12ccd7=_0x4856a3[_0xa4d983(0x299)](_0x56f69f['lng'],_0x56f69f['lat'],_0x56f69f),_0x2068b5=_0x4856a3[_0xa4d983(0x299)](_0x56f69f[_0xa4d983(0x28c)],_0x56f69f['tlat'],_0x56f69f);if(null!=_0x12ccd7&&null!=_0x2068b5){var _0x4ad871=Math['abs'](_0x12ccd7[0x0]-_0x2068b5[0x0]);_0x29b2ea&&_0x4ad871>=_0x4856a3[_0xa4d983(0x212)]||(_0x4856a3[_0xa4d983(0x297)][_0xa4d983(0x2b9)](_0x12ccd7[0x0],_0x12ccd7[0x1]),_0x4856a3[_0xa4d983(0x297)][_0xa4d983(0x25a)](_0x2068b5[0x0],_0x2068b5[0x1]));}}),this[_0x34801b(0x297)]['stroke']();}},{'key':_0x1dfdb8(0x251),'value':function(_0x45fb04){var _0x106700=_0x1dfdb8;for(var _0x282a96,_0x21140b,_0x1cd59e=0x0;_0x1cd59e<0x1e&&(_0x282a96=this[_0x106700(0x213)][_0x106700(0x1d3)](),!((_0x21140b=this[_0x106700(0x213)]['getUVByPoint'](_0x282a96[_0x106700(0x2e8)],_0x282a96['lat']))&&_0x21140b[0x2]>0x0));_0x1cd59e++);if(!_0x21140b)return _0x45fb04;var _0x3cecdb=_0x282a96['lng']+this[_0x106700(0x1d7)][0x0]*_0x21140b[0x0],_0xaf1228=_0x282a96[_0x106700(0x18d)]+this[_0x106700(0x1d7)][0x1]*_0x21140b[0x1];return _0x45fb04['lng']=_0x282a96[_0x106700(0x2e8)],_0x45fb04[_0x106700(0x18d)]=_0x282a96[_0x106700(0x18d)],_0x45fb04[_0x106700(0x28c)]=_0x3cecdb,_0x45fb04[_0x106700(0x2de)]=_0xaf1228,_0x45fb04[_0x106700(0x2ac)]=Math[_0x106700(0x24d)](Math[_0x106700(0x1ef)]()*this['maxAge']),_0x45fb04;}},{'key':_0x1dfdb8(0x1a4),'value':function(){var _0x3a2a85=_0x1dfdb8;this[_0x3a2a85(0x285)]=[],delete this['windField'],delete this[_0x3a2a85(0x1d2)];}}]),_0x11fe49;}(_0x128e2d[_0x321d23(0x283)]['BaseLayer']);function _0x2542b2(_0x429529,_0x159c70){var _0x56bb28=_0x321d23;return _0x429529*Math[_0x56bb28(0x20d)](_0x3f704b[_0x56bb28(0x253)][_0x56bb28(0x1b5)](_0x159c70));}function _0x362a7e(_0x2fdc23,_0x305f35){var _0x5def71=_0x321d23;return _0x2fdc23*Math['sin'](_0x3f704b['Math'][_0x5def71(0x1b5)](_0x305f35));}function _0x348f6e(_0x567ac4,_0x4cfe82){var _0x39f2b8=_0x321d23;return Math[_0x39f2b8(0x2a6)](Math['pow'](_0x567ac4,0x2)+Math[_0x39f2b8(0x239)](_0x4cfe82,0x2));}function _0x3ace92(_0x21caa1,_0x378b56){var _0x3079e9=_0x321d23,_0x2e4f89=_0x3f704b[_0x3079e9(0x253)][_0x3079e9(0x1ca)](Math[_0x3079e9(0x187)](_0x378b56,_0x21caa1));return _0x2e4f89+=_0x2e4f89<0x0?0x168:0x0;}_0x128e2d[_0x321d23(0x21a)]['register'](_0x321d23(0x2b6),_0x3d1505),_0x128e2d[_0x321d23(0x283)][_0x321d23(0x260)]=_0x3d1505,_0x128e2d[_0x321d23(0x238)]=_0x406c42;}]);}));function a0_0x44ef(){var _0x163992=['windData','getRandomLatLng','clientHeight','_showHook','particlesTextureSize','calc_speedRate','destroyParticlesTextures','ClearCommand','geometry','drawingBufferWidth','forEach','update','781DleZeN','mouseMove','_pointerEvents','SceneMode','DepthFunction','construct','mod','TWO_PI','postProcessingSpeed','container','framebuffer','createFramebuffer','globeLayer','clearFramebuffers','PixelFormat','709308FdiLfk','__proto__','random','_calcStep','left','addPrimitives','cancelAnimationFrame','dimensions','Cesium','refreshParticles','iterator','bind','ceil','sham','execute','color','length','lon','getWind','absolute','nextTrails','mouseDown','depthTexture','THREE_PI_OVER_TWO','mouse_down','height','PixelDatatype','source','VertexArray','east','TextureMagnificationFilter','trails','cos','frameRate','canvasResize','createRawRenderState','function','canvasWidth','windField','register','currentTrails','uniformMap','globalAlpha','pointer-events','speedFactor','LayerUtil','colorNum','fillStyle','461940irdWxj','rgba(0,\x200,\x200,\x200.97)','TRIANGLES','canvasWindy','north','mode','Framebuffer','_drawLines','getPixelSize','particlesNumber','framebuffers','wgs84ToWindowCoordinates','windTextures','PrimitiveType','isPointVisible','uniform\x20sampler2D\x20colorTable;\x0a\x0avarying\x20float\x20speedNormalization;\x0a\x0avoid\x20main()\x20{\x0a\x20\x20\x20\x20gl_FragColor\x20=\x20texture2D(colorTable,\x20vec2(speedNormalization,\x200.0));\x0a}','currentParticlesPosition','_mountedHook','add','NEAREST','ComponentDatatype','mars3d','4eYvujA','Cartesian2','createSegmentsGeometry','_onMouseUpEvent','defaultValue','WindUtil','pow','__esModule','commandToExecute','currentTrailsDepth','commandList','removeAll','enumerable','valueOf','OPAQUE','xmax','PI_OVER_THREE','currentTrailsColor','getUVByXY','getDefaultRenderState','pixelSize','ALWAYS','randomBetween','destroy','auto','WMS_URL','round','createWindTextures','arrayBufferView','updatePosition','randomParticle','RenderState','Math','_onMapWhellEvent','call','options','once','push','shaderProgram','lineTo','removeChild','STATIC_DRAW','postProcessingPosition','Sampler','192beHxcH','CanvasWindLayer','preRender','100%','screen','Draw','0px','updateViewerParameters','ymax','_calcUV','computeViewRectangle','wheel','viewRectangleToLonLatRange','Matrix4','randomizeParticles','nextParticlesPosition','log','applyViewerParameters','uniform\x20sampler2D\x20trailsColorTexture;\x0d\x0auniform\x20sampler2D\x20trailsDepthTexture;\x0d\x0a\x0d\x0avarying\x20vec2\x20textureCoordinate;\x0d\x0a\x0d\x0avoid\x20main()\x20{\x0d\x0a\x20\x20\x20\x20vec4\x20trailsColor\x20=\x20texture2D(trailsColorTexture,\x20textureCoordinate);\x0d\x0a\x20\x20\x20\x20float\x20trailsDepth\x20=\x20texture2D(trailsDepthTexture,\x20textureCoordinate).r;\x0d\x0a\x20\x20\x20\x20float\x20globeDepth\x20=\x20czm_unpackDepth(texture2D(czm_globeDepthTexture,\x20textureCoordinate));\x0d\x0a\x0d\x0a\x20\x20\x20\x20if\x20(trailsDepth\x20<\x20globeDepth)\x20{\x0d\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20trailsColor;\x0d\x0a\x20\x20\x20\x20}\x20else\x20{\x0d\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(0.0);\x0d\x0a\x20\x20\x20\x20}\x0d\x0a}','unbindEvent','Compute','depthMask','undefined','hidden','canvas','drawWind','animateFrame','viewport','mars3dWind','particlesComputing','Cannot\x20call\x20a\x20class\x20as\x20a\x20function','udata','Texture','reverseY','EventType','preExecute','layer','particlesTextures','particles','writable','xmin','Module','width','lineWidth','autoClear','tlng','nextParticlesSpeed','76lQbqvv','toStringTag','camera','LINEAR','this\x20hasn\x27t\x20been\x20initialised\x20-\x20super()\x20hasn\x27t\x20been\x20called','textures','fromCache','particleSystem','GeometryAttributes','canvasContext','blending','_tomap','destination-in','none','SCENE3D','canvasHeight','getDirection','now','createCommand','applyUserInput','createRenderingTextures','8615502pazDtM','primitiveType','mouse_move','sqrt','getFullscreenQuad','Cartesian3','updateSpeed','particlesRendering','resize','age','colorTable','ZERO','globe','170470YKWDQf','uniform\x20sampler2D\x20currentParticlesPosition;\x20//\x20(lon,\x20lat,\x20lev)\x0auniform\x20sampler2D\x20currentParticlesSpeed;\x20//\x20(u,\x20v,\x20w,\x20normalization)\x0a\x0avarying\x20vec2\x20v_textureCoordinates;\x0a\x0avec2\x20lengthOfLonLat(vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20//\x20unit\x20conversion:\x20meters\x20->\x20longitude\x20latitude\x20degrees\x0a\x20\x20\x20\x20//\x20see\x20https://en.wikipedia.org/wiki/Geographic_coordinate_system#Length_of_a_degree\x20for\x20detail\x0a\x0a\x20\x20\x20\x20//\x20Calculate\x20the\x20length\x20of\x20a\x20degree\x20of\x20latitude\x20and\x20longitude\x20in\x20meters\x0a\x20\x20\x20\x20float\x20latitude\x20=\x20radians(lonLatLev.y);\x0a\x0a\x20\x20\x20\x20float\x20term1\x20=\x20111132.92;\x0a\x20\x20\x20\x20float\x20term2\x20=\x20559.82\x20*\x20cos(2.0\x20*\x20latitude);\x0a\x20\x20\x20\x20float\x20term3\x20=\x201.175\x20*\x20cos(4.0\x20*\x20latitude);\x0a\x20\x20\x20\x20float\x20term4\x20=\x200.0023\x20*\x20cos(6.0\x20*\x20latitude);\x0a\x20\x20\x20\x20float\x20latLength\x20=\x20term1\x20-\x20term2\x20+\x20term3\x20-\x20term4;\x0a\x0a\x20\x20\x20\x20float\x20term5\x20=\x20111412.84\x20*\x20cos(latitude);\x0a\x20\x20\x20\x20float\x20term6\x20=\x2093.5\x20*\x20cos(3.0\x20*\x20latitude);\x0a\x20\x20\x20\x20float\x20term7\x20=\x200.118\x20*\x20cos(5.0\x20*\x20latitude);\x0a\x20\x20\x20\x20float\x20longLength\x20=\x20term5\x20-\x20term6\x20+\x20term7;\x0a\x0a\x20\x20\x20\x20return\x20vec2(longLength,\x20latLength);\x0a}\x0a\x0avoid\x20updatePosition(vec3\x20lonLatLev,\x20vec3\x20speed)\x20{\x0a\x20\x20\x20\x20vec2\x20lonLatLength\x20=\x20lengthOfLonLat(lonLatLev);\x0a\x20\x20\x20\x20float\x20u\x20=\x20speed.x\x20/\x20lonLatLength.x;\x0a\x20\x20\x20\x20float\x20v\x20=\x20speed.y\x20/\x20lonLatLength.y;\x0a\x20\x20\x20\x20float\x20w\x20=\x200.0;\x0a\x20\x20\x20\x20vec3\x20windVectorInLonLatLev\x20=\x20vec3(u,\x20v,\x20w);\x0a\x0a\x20\x20\x20\x20vec3\x20nextParticle\x20=\x20lonLatLev\x20+\x20windVectorInLonLatLev;\x0a\x0a\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(nextParticle,\x200.0);\x0a}\x0a\x0avoid\x20main()\x20{\x0a\x20\x20\x20\x20//\x20texture\x20coordinate\x20must\x20be\x20normalized\x0a\x20\x20\x20\x20vec3\x20lonLatLev\x20=\x20texture2D(currentParticlesPosition,\x20v_textureCoordinates).rgb;\x0a\x20\x20\x20\x20vec3\x20speed\x20=\x20texture2D(currentParticlesSpeed,\x20v_textureCoordinates).rgb;\x0a\x0a\x20\x20\x20\x20updatePosition(lonLatLev,\x20speed);\x0a}','attributeLocations','mars3d-cesium','UNSIGNED_BYTE','WindLayer','canvasWind','ymin','vertexShaderSource','moveTo','Derived\x20constructors\x20may\x20only\x20return\x20object\x20or\x20undefined','userInput','Pass','frameTime','string','getU','requestAnimationFrame','visible','fromDegrees','_removedHook','defineProperty','_addedHook','amd','pointerEvents','top','style','visibility','_particlesNumber','grid','_speedRate','toGridXY','LUMINANCE','Geometry','prototype','value','dropRateBump','GeometryAttribute','_createCanvas','_onMouseDownEvent','ellipsoid','default','setOptions','clientWidth','getUVByPoint','defined','rawRenderState','tlat','segmentsColor','clampToLatitudeRange','BufferUsage','configurable','_map','clearCommand','maxAge','dropRate','fillRect','lng','constructor','lonRange','positionWC','symbol','viewerParameters','createRenderingFramebuffers','attribute\x20vec2\x20st;\x0a//\x20it\x20is\x20not\x20normal\x20itself,\x20but\x20used\x20to\x20control\x20normal\x0aattribute\x20vec3\x20normal;\x20//\x20(point\x20to\x20use,\x20offset\x20sign,\x20not\x20used\x20component)\x0a\x0auniform\x20sampler2D\x20currentParticlesPosition;\x0auniform\x20sampler2D\x20postProcessingPosition;\x0auniform\x20sampler2D\x20postProcessingSpeed;\x0a\x0auniform\x20float\x20particleHeight;\x0a\x0auniform\x20float\x20aspect;\x0auniform\x20float\x20pixelSize;\x0auniform\x20float\x20lineWidth;\x0a\x0avarying\x20float\x20speedNormalization;\x0a\x0avec3\x20convertCoordinate(vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20//\x20WGS84\x20(lon,\x20lat,\x20lev)\x20->\x20ECEF\x20(x,\x20y,\x20z)\x0a\x20\x20\x20\x20//\x20see\x20https://en.wikipedia.org/wiki/Geographic_coordinate_conversion#From_geodetic_to_ECEF_coordinates\x20for\x20detail\x0a\x0a\x20\x20\x20\x20//\x20WGS\x2084\x20geometric\x20constants\x20\x0a\x20\x20\x20\x20float\x20a\x20=\x206378137.0;\x20//\x20Semi-major\x20axis\x20\x0a\x20\x20\x20\x20float\x20b\x20=\x206356752.3142;\x20//\x20Semi-minor\x20axis\x20\x0a\x20\x20\x20\x20float\x20e2\x20=\x206.69437999014e-3;\x20//\x20First\x20eccentricity\x20squared\x0a\x0a\x20\x20\x20\x20float\x20latitude\x20=\x20radians(lonLatLev.y);\x0a\x20\x20\x20\x20float\x20longitude\x20=\x20radians(lonLatLev.x);\x0a\x0a\x20\x20\x20\x20float\x20cosLat\x20=\x20cos(latitude);\x0a\x20\x20\x20\x20float\x20sinLat\x20=\x20sin(latitude);\x0a\x20\x20\x20\x20float\x20cosLon\x20=\x20cos(longitude);\x0a\x20\x20\x20\x20float\x20sinLon\x20=\x20sin(longitude);\x0a\x0a\x20\x20\x20\x20float\x20N_Phi\x20=\x20a\x20/\x20sqrt(1.0\x20-\x20e2\x20*\x20sinLat\x20*\x20sinLat);\x0a\x20\x20\x20\x20float\x20h\x20=\x20particleHeight;\x20//\x20it\x20should\x20be\x20high\x20enough\x20otherwise\x20the\x20particle\x20may\x20not\x20pass\x20the\x20terrain\x20depth\x20test\x0a\x0a\x20\x20\x20\x20vec3\x20cartesian\x20=\x20vec3(0.0);\x0a\x20\x20\x20\x20cartesian.x\x20=\x20(N_Phi\x20+\x20h)\x20*\x20cosLat\x20*\x20cosLon;\x0a\x20\x20\x20\x20cartesian.y\x20=\x20(N_Phi\x20+\x20h)\x20*\x20cosLat\x20*\x20sinLon;\x0a\x20\x20\x20\x20cartesian.z\x20=\x20((b\x20*\x20b)\x20/\x20(a\x20*\x20a)\x20*\x20N_Phi\x20+\x20h)\x20*\x20sinLat;\x0a\x20\x20\x20\x20return\x20cartesian;\x0a}\x0a\x0avec4\x20calcProjectedCoordinate(vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20//\x20the\x20range\x20of\x20longitude\x20in\x20Cesium\x20is\x20[-180,\x20180]\x20but\x20the\x20range\x20of\x20longitude\x20in\x20the\x20NetCDF\x20file\x20is\x20[0,\x20360]\x0a\x20\x20\x20\x20//\x20[0,\x20180]\x20is\x20corresponding\x20to\x20[0,\x20180]\x20and\x20[180,\x20360]\x20is\x20corresponding\x20to\x20[-180,\x200]\x0a\x20\x20\x20\x20lonLatLev.x\x20=\x20mod(lonLatLev.x\x20+\x20180.0,\x20360.0)\x20-\x20180.0;\x0a\x20\x20\x20\x20vec3\x20particlePosition\x20=\x20convertCoordinate(lonLatLev);\x0a\x20\x20\x20\x20vec4\x20projectedCoordinate\x20=\x20czm_modelViewProjection\x20*\x20vec4(particlePosition,\x201.0);\x0a\x20\x20\x20\x20return\x20projectedCoordinate;\x0a}\x0a\x0avec4\x20calcOffset(vec4\x20currentProjectedCoordinate,\x20vec4\x20nextProjectedCoordinate,\x20float\x20offsetSign)\x20{\x0a\x20\x20\x20\x20vec2\x20aspectVec2\x20=\x20vec2(aspect,\x201.0);\x0a\x20\x20\x20\x20vec2\x20currentXY\x20=\x20(currentProjectedCoordinate.xy\x20/\x20currentProjectedCoordinate.w)\x20*\x20aspectVec2;\x0a\x20\x20\x20\x20vec2\x20nextXY\x20=\x20(nextProjectedCoordinate.xy\x20/\x20nextProjectedCoordinate.w)\x20*\x20aspectVec2;\x0a\x0a\x20\x20\x20\x20float\x20offsetLength\x20=\x20lineWidth\x20/\x202.0;\x0a\x20\x20\x20\x20vec2\x20direction\x20=\x20normalize(nextXY\x20-\x20currentXY);\x0a\x20\x20\x20\x20vec2\x20normalVector\x20=\x20vec2(-direction.y,\x20direction.x);\x0a\x20\x20\x20\x20normalVector.x\x20=\x20normalVector.x\x20/\x20aspect;\x0a\x20\x20\x20\x20normalVector\x20=\x20offsetLength\x20*\x20normalVector;\x0a\x0a\x20\x20\x20\x20vec4\x20offset\x20=\x20vec4(offsetSign\x20*\x20normalVector,\x200.0,\x200.0);\x0a\x20\x20\x20\x20return\x20offset;\x0a}\x0a\x0avoid\x20main()\x20{\x0a\x20\x20\x20\x20vec2\x20particleIndex\x20=\x20st;\x0a\x0a\x20\x20\x20\x20vec3\x20currentPosition\x20=\x20texture2D(currentParticlesPosition,\x20particleIndex).rgb;\x0a\x20\x20\x20\x20vec4\x20nextPosition\x20=\x20texture2D(postProcessingPosition,\x20particleIndex);\x0a\x0a\x20\x20\x20\x20vec4\x20currentProjectedCoordinate\x20=\x20vec4(0.0);\x0a\x20\x20\x20\x20vec4\x20nextProjectedCoordinate\x20=\x20vec4(0.0);\x0a\x20\x20\x20\x20if\x20(nextPosition.w\x20>\x200.0)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20currentProjectedCoordinate\x20=\x20calcProjectedCoordinate(currentPosition);\x0a\x20\x20\x20\x20\x20\x20\x20\x20nextProjectedCoordinate\x20=\x20calcProjectedCoordinate(currentPosition);\x0a\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20currentProjectedCoordinate\x20=\x20calcProjectedCoordinate(currentPosition);\x0a\x20\x20\x20\x20\x20\x20\x20\x20nextProjectedCoordinate\x20=\x20calcProjectedCoordinate(nextPosition.xyz);\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20float\x20pointToUse\x20=\x20normal.x;\x20//\x20-1\x20is\x20currentProjectedCoordinate\x20and\x20+1\x20is\x20nextProjectedCoordinate\x0a\x20\x20\x20\x20float\x20offsetSign\x20=\x20normal.y;\x0a\x0a\x20\x20\x20\x20vec4\x20offset\x20=\x20pixelSize\x20*\x20calcOffset(currentProjectedCoordinate,\x20nextProjectedCoordinate,\x20offsetSign);\x0a\x20\x20\x20\x20if\x20(pointToUse\x20<\x200.0)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_Position\x20=\x20currentProjectedCoordinate\x20+\x20offset;\x0a\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_Position\x20=\x20nextProjectedCoordinate\x20+\x20offset;\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20speedNormalization\x20=\x20texture2D(postProcessingSpeed,\x20particleIndex).a;\x0a}','commandType','PrimitiveCollection','reverse','primitives','BaseLayer','globeBoundingSphere','Color','setAttribute','setPrototypeOf','speedRate','scene','createTexture','DISABLE_GL_POSITION_LOG_DEPTH','atan2','max','FLOAT','maxParticles','getColorTexture','show','lat','DISABLE_LOG_DEPTH_FRAGMENT_WRITE','destroyObject','redraw','apply','exports','UNSIGNED_INT','createComputingPrimitives','_onMouseMoveEvent','fixedHeight','floor','cols','fadeOpacity','getContext','outputTexture','latRange','fragmentShaderSource','Appearance','179013Xpincm','array','Super\x20expression\x20must\x20either\x20be\x20null\x20or\x20a\x20function','RGBA','canrefresh','clear','_onMap_preRenderEvent','class','removeEventListener','PI_OVER_TWO','off','IDENTITY','ShaderSource','appendChild','isInExtent','context','_bilinearInterpolation','nextTrailsColor','rows','particleHeight','fromGeometry','568553TmKAui','toRadians','237753YyUUUq','lev','refreshTimer','updateDate','addEventListener','drawingBufferHeight','segments','getV','min','getUserInput','fill','segmentsDepth','vertexArray','ShaderProgram','setData','object','data','currentParticlesSpeed','uniform\x20sampler2D\x20nextParticlesPosition;\x0auniform\x20sampler2D\x20nextParticlesSpeed;\x20//\x20(u,\x20v,\x20w,\x20normalization)\x0a\x0a//\x20range\x20(min,\x20max)\x0auniform\x20vec2\x20lonRange;\x0auniform\x20vec2\x20latRange;\x0a\x0auniform\x20float\x20randomCoefficient;\x20//\x20use\x20to\x20improve\x20the\x20pseudo-random\x20generator\x0auniform\x20float\x20dropRate;\x20//\x20drop\x20rate\x20is\x20a\x20chance\x20a\x20particle\x20will\x20restart\x20at\x20random\x20position\x20to\x20avoid\x20degeneration\x0auniform\x20float\x20dropRateBump;\x0a\x0avarying\x20vec2\x20v_textureCoordinates;\x0a\x0a//\x20pseudo-random\x20generator\x0aconst\x20vec3\x20randomConstants\x20=\x20vec3(12.9898,\x2078.233,\x204375.85453);\x0aconst\x20vec2\x20normalRange\x20=\x20vec2(0.0,\x201.0);\x0afloat\x20rand(vec2\x20seed,\x20vec2\x20range)\x20{\x0a\x20\x20\x20\x20vec2\x20randomSeed\x20=\x20randomCoefficient\x20*\x20seed;\x0a\x20\x20\x20\x20float\x20temp\x20=\x20dot(randomConstants.xy,\x20randomSeed);\x0a\x20\x20\x20\x20temp\x20=\x20fract(sin(temp)\x20*\x20(randomConstants.z\x20+\x20temp));\x0a\x20\x20\x20\x20return\x20temp\x20*\x20(range.y\x20-\x20range.x)\x20+\x20range.x;\x0a}\x0a\x0avec3\x20generateRandomParticle(vec2\x20seed,\x20float\x20lev)\x20{\x0a\x20\x20\x20\x20//\x20ensure\x20the\x20longitude\x20is\x20in\x20[0,\x20360]\x0a\x20\x20\x20\x20float\x20randomLon\x20=\x20mod(rand(seed,\x20lonRange),\x20360.0);\x0a\x20\x20\x20\x20float\x20randomLat\x20=\x20rand(-seed,\x20latRange);\x0a\x0a\x20\x20\x20\x20return\x20vec3(randomLon,\x20randomLat,\x20lev);\x0a}\x0a\x0abool\x20particleOutbound(vec3\x20particle)\x20{\x0a\x20\x20\x20\x20return\x20particle.y\x20<\x20-90.0\x20||\x20particle.y\x20>\x2090.0;\x0a}\x0a\x0avoid\x20main()\x20{\x0a\x20\x20\x20\x20vec3\x20nextParticle\x20=\x20texture2D(nextParticlesPosition,\x20v_textureCoordinates).rgb;\x0a\x20\x20\x20\x20vec4\x20nextSpeed\x20=\x20texture2D(nextParticlesSpeed,\x20v_textureCoordinates);\x0a\x20\x20\x20\x20float\x20particleDropRate\x20=\x20dropRate\x20+\x20dropRateBump\x20*\x20nextSpeed.a;\x0a\x0a\x20\x20\x20\x20vec2\x20seed1\x20=\x20nextParticle.xy\x20+\x20v_textureCoordinates;\x0a\x20\x20\x20\x20vec2\x20seed2\x20=\x20nextSpeed.xy\x20+\x20v_textureCoordinates;\x0a\x20\x20\x20\x20vec3\x20randomParticle\x20=\x20generateRandomParticle(seed1,\x20nextParticle.z);\x0a\x20\x20\x20\x20float\x20randomNumber\x20=\x20rand(seed2,\x20normalRange);\x0a\x0a\x20\x20\x20\x20if\x20(randomNumber\x20<\x20particleDropRate\x20||\x20particleOutbound(nextParticle))\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(randomParticle,\x201.0);\x20//\x201.0\x20means\x20this\x20is\x20a\x20random\x20particle\x0a\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(nextParticle,\x200.0);\x0a\x20\x20\x20\x20}\x0a}','keys','toDegrees','DrawCommand','createRenderingPrimitives','createParticlesTextures','isDestroyed','zIndex','getPrototypeOf','particlesWind'];a0_0x44ef=function(){return _0x163992;};return a0_0x44ef();}